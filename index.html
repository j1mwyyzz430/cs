<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™®é€šè©±æ°´å¹³æ¸¬è©¦ (æ™ºèƒ½é›²ç«¯ç‰ˆ)</title>
    <style>
        :root {
            --primary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #2ecc71;
            --bg-color: #0b0c10;
            --text-color: #c5c6c7;
            --card-bg: #1f2833;
        }
        body {
            margin: 0; padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh;
        }
        #star-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
        }
        .container {
            background: rgba(31, 40, 51, 0.9);
            padding: 2rem; border-radius: 15px;
            box-shadow: 0 0 20px rgba(102, 252, 241, 0.2);
            width: 90%; max-width: 500px;
            text-align: center;
            backdrop-filter: blur(5px);
            border: 1px solid #45a29e;
        }
        #login-overlay input {
            display: block; width: 80%; margin: 10px auto; padding: 10px;
            border-radius: 5px; border: 1px solid #45a29e;
            background: #0b0c10; color: white;
        }
        button {
            background: linear-gradient(45deg, #45a29e, #66fcf1);
            border: none; padding: 12px 24px; color: #0b0c10;
            font-weight: bold; border-radius: 25px; cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 10px; font-size: 16px;
        }
        button:hover { transform: scale(1.05); box-shadow: 0 0 15px #66fcf1; }
        button:disabled { background: #95a5a6; cursor: not-allowed; transform: none; }
        .progress-bar {
            width: 100%; height: 6px; background: #45a29e33;
            margin-bottom: 20px; border-radius: 3px; overflow: hidden;
        }
        .progress-fill { height: 100%; background: #66fcf1; width: 0%; transition: width 0.3s; }
        .word-display { font-size: 2.5rem; margin: 20px 0; font-weight: bold; letter-spacing: 2px; }
        .target-char { color: #66fcf1; text-shadow: 0 0 10px #45a29e; border-bottom: 2px solid #45a29e; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; }
        .option-btn {
            background: rgba(69, 162, 158, 0.2); border: 1px solid #45a29e; color: white;
            font-size: 1.2rem; padding: 15px;
        }
        .option-btn:hover { background: rgba(69, 162, 158, 0.5); }
        .option-btn.correct { background: var(--success-color) !important; border-color: var(--success-color); }
        .option-btn.wrong { background: var(--accent-color) !important; border-color: var(--accent-color); }
        .review-item {
            background: rgba(0,0,0,0.3); padding: 8px; margin: 5px 0;
            border-radius: 5px; text-align: left; border-left: 3px solid var(--accent-color);
        }
        .spinner {
            display: inline-block; width: 12px; height: 12px;
            border: 2px solid rgba(255,255,255,0.3); border-radius: 50%;
            border-top-color: white; animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        .mastery-container { margin: 15px 0; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px; }
        .mastery-bar { width: 100%; height: 8px; background: #333; border-radius: 4px; overflow: hidden; margin: 5px 0; }
        .mastery-fill { height: 100%; background: linear-gradient(90deg, #f1c40f, #f39c12); width: 0%; transition: width 1s; }
    </style>
</head>
<body>

<canvas id="star-canvas"></canvas>

<div class="container">
    <div id="login-overlay">
        <h2>ğŸš€ æ‹¼éŸ³æŒ‘æˆ°ç™»éŒ„</h2>
        <input type="text" id="username" placeholder="ä½ çš„åå­— (ID)">
        <input type="password" id="password" placeholder="å¯†ç¢¼ (ä»»æ„å­—ç¬¦)">
        <button id="login-btn" onclick="handleLogin()">ç™»éŒ„ç³»çµ±</button>
        <p id="login-msg" style="color: #e74c3c; margin-top: 10px;"></p>
    </div>

    <div id="game-container" style="display: none;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <span style="font-size: 0.9rem; color:#888;">å­¸å“¡: <strong id="display-user" style="color:white;">--</strong></span>
            <span id="sync-status" style="font-size: 1.2rem;"></span>
        </div>

        <div id="game-screen">
            <div class="progress-bar"><div class="progress-fill" id="session-progress"></div></div>
            <div class="word-display" id="question-word">è¼‰å…¥ä¸­...</div>
            <div class="options-grid" id="options-container"></div>
            <div id="feedback-box"></div>
        </div>

        <div id="result-screen" style="display: none;">
            <h2>ğŸ¯ æœ¬å±€çµç®—</h2>
            <div style="font-size: 3rem; font-weight: bold; color: #66fcf1;">
                <span id="final-score">0</span><span style="font-size: 1.5rem">%</span>
            </div>
            
            <div class="mastery-container">
                <div style="display:flex; justify-content:space-between; font-size:0.9rem;">
                    <span>ç¸½é«”ç²¾é€šåº¦</span>
                    <span id="mastery-percentage">0%</span>
                </div>
                <div class="mastery-bar"><div class="mastery-fill" id="mastery-bar-fill"></div></div>
                <div id="mastery-count-text" style="font-size: 0.8rem; color: #888; margin-top: 5px;"></div>
            </div>

            <h3>éŒ¯é¡Œå›é¡§</h3>
            <div id="review-container" style="max-height: 200px; overflow-y: auto;"></div>
            
            <button onclick="initGame()" style="width: 100%; margin-top: 20px;">å†ä¾†ä¸€å±€ ğŸ”„</button>
        </div>
    </div>
</div>

<script>
    // ==========================================
    // ğŸ”´ ğŸ”´ ğŸ”´ é‡è¦ï¼šè«‹å¡«å…¥ä½ çš„ Web App URL ğŸ”´ ğŸ”´ ğŸ”´
    // ==========================================
    // è«‹å°‡ä¸‹æ–¹çš„ç¶²å€æ›¿æ›ç‚ºä½ å¾ Google Apps Script éƒ¨ç½²ç²å¾—çš„ç¶²å€ (ä»¥ https://script.google.com é–‹é ­)
    const API_URL = "https://script.google.com/macros/s/AKfycbwhcnKJoyh7Z-JZXlZlXXfv92oCMRP-MpX3lNPa2aEiQ_smqdHl0nVLn3Zr0aGXaeRZ2A/exec"; 

    // ==========================================
    // 1. å®Œæ•´é¡Œåº« (å·²ä¿®å¾©ä¸¦å»é‡)
    // ==========================================
    // æ³¨æ„ï¼šé€™è£¡ä½¿ç”¨ let å®£å‘Šï¼Œå…è¨±å¾ŒçºŒå»é‡è¦†è“‹
    let fullQuestionBank = [
        { word: "é˜¿", context: "é˜¿å§¨", pinyin: "Ä", options: ["Ä“", "a", "Ã¡"], note: "ç¨±å‘¼å¸¸ç”¨ Äã€‚é˜¿è† è®€ Ä“ã€‚" },
        { word: "é˜¿", context: "é˜¿è† ", pinyin: "Ä“", options: ["Ä", "a", "Ã¡"], note: "è—¥åè®€ Ä“ã€‚" },
        { word: "æŒ¨", context: "æŒ¨è¿‘", pinyin: "Äi", options: ["Ã¡i", "Ã i", "Ä"], note: "é è¿‘è®€ Äi (ä¸€è²)ã€‚" },
        { word: "æŒ¨", context: "æŒ¨æ‰“", pinyin: "Ã¡i", options: ["Äi", "Ã i", "Ã "], note: "å—è‹¦/æ‹–å»¶è®€ Ã¡i (äºŒè²)ã€‚" },
        { word: "æš«", context: "æš«æ™‚", pinyin: "zÃ n", options: ["zhÃ n", "zÃ¡n", "chÃ n"], note: "å››è²å¹³èˆŒ zÃ nã€‚å‹¿è®€ zhÃ nã€‚" },
        { word: "æ°›", context: "æ°£æ°›", pinyin: "fÄ“n", options: ["fÃ¨n", "fÄ“ng", "pÄ“n"], note: "ä¸€è² fÄ“nã€‚å‹¿è®€ fÃ¨nã€‚" },
        { word: "æª”", context: "æª”æ¡ˆ", pinyin: "dÃ ng", options: ["dÇng", "dÄng", "tÃ³ng"], note: "å››è² dÃ ngã€‚å‹¿è®€ dÇngã€‚" },
        { word: "é…µ", context: "ç™¼é…µ", pinyin: "jiÃ o", options: ["xiÃ o", "xiÄo", "gÄo"], note: "å¿…è€ƒï¼è®€ jiÃ oã€‚" },
        { word: "èª¼", context: "å‹èª¼", pinyin: "yÃ¬", options: ["yÃ­", "yÄ«", "yÃ¬ng"], note: "å››è² yÃ¬ã€‚" },
        { word: "åº‡", context: "åŒ…åº‡", pinyin: "bÃ¬", options: ["pÃ¬", "bÃ¬ng", "pÄ«"], note: "å››è² bÃ¬ã€‚" },
        { word: "ç€•", context: "ç€•è‡¨", pinyin: "bÄ«n", options: ["pÃ­n", "bÄ«ng", "pÄ«n"], note: "ä¸€è² bÄ«nã€‚å‹¿è®€ pÃ­nã€‚" },
        { word: "ç¨±", context: "ç¨±è·", pinyin: "chÃ¨n", options: ["chÄ“ng", "chÃ¨ng", "cÃ¨n"], note: "åˆé©è®€ chÃ¨nã€‚ç¨±è®šè®€ chÄ“ngã€‚" },
        { word: "ä¹˜", context: "åƒä¹˜ä¹‹åœ‹", pinyin: "shÃ¨ng", options: ["chÃ©ng", "chÃ¨ng", "shÄ“ng"], note: "å¤é‡è©(è»Š)è®€ shÃ¨ngã€‚ä¹˜è»Šè®€ chÃ©ngã€‚" },
        { word: "å¼„", context: "å¼„å ‚", pinyin: "lÃ²ng", options: ["nÃ²ng", "nÃ¨ng", "lÅng"], note: "å··å­è®€ lÃ²ngã€‚ç©å¼„è®€ nÃ²ngã€‚" },
        { word: "å¼·", context: "å¼·è¿«", pinyin: "qiÇng", options: ["qiÃ¡ng", "jiÃ ng", "qiÄng"], note: "å‹‰å¼·åˆ¥äººè®€ qiÇngã€‚" },
        { word: "çµ¦", context: "çµ¦äºˆ", pinyin: "jÇ", options: ["gÄ›i", "yÇ”", "jÃ­"], note: "æ›¸é¢èª/ä¾›æ‡‰è®€ jÇã€‚çµ¦ä½ (å£èª)è®€ gÄ›iã€‚" },
        { word: "è™•", context: "è™•åˆ†", pinyin: "chÇ”", options: ["chÃ¹", "cÇ”", "shÃ¹"], note: "å‹•è©(è™•ç½®)è®€ chÇ”ã€‚åœ°æ–¹è®€ chÃ¹ã€‚" },
        { word: "å·®", context: "å‡ºå·®", pinyin: "chÄi", options: ["chÄ", "chÃ ", "cÄ«"], note: "æ´¾é£è®€ chÄiã€‚å·®åˆ¥è®€ chÄã€‚" },
        { word: "æ ¡", context: "æ ¡å°", pinyin: "jiÃ o", options: ["xiÃ o", "xiÄo", "jiÄo"], note: "è¨‚æ­£è®€ jiÃ oã€‚å­¸æ ¡è®€ xiÃ oã€‚" },
        { word: "å‰µ", context: "å‰µå‚·", pinyin: "chuÄng", options: ["chuÃ ng", "cÄng", "shuÄng"], note: "å‚·å£è®€ chuÄngã€‚å‰µé€ è®€ chuÃ ngã€‚" },
        { word: "æ½›", context: "æ½›æ°´", pinyin: "qiÃ¡n", options: ["qiÇn", "jiÄn", "zÃ n"], note: "äºŒè²ï¼å‹¿è®€ä¸‰è²ã€‚" },
        { word: "æ¡†", context: "é–€æ¡†", pinyin: "kuÃ ng", options: ["kuÄng", "guÄng", "kÄng"], note: "å››è²ï¼å‹¿è®€ä¸€è²ã€‚" },
        { word: "å’¯", context: "å’¯è¡€", pinyin: "kÇ", options: ["luÃ²", "gÄ“", "lo"], note: "å’¯(kÇ)è¡€ï¼Œå‹¿è®€ luÃ²ã€‚" },
        { word: "æ„", context: "æ„æ‹³é ­", pinyin: "lÅ«n", options: ["lÃºn", "lÃ¹n", "qiÇng"], note: "ä¸€è²ï¼" },
        { word: "éŸ‹", context: "éŸ‹æ°", pinyin: "wÃ©i", options: ["wÄ›i", "huÃ¬", "wÄ“i"], note: "äºŒè²ï¼å‹¿è®€ä¸‰è²ï¼Œå§“æ°ã€‚" },
        { word: "è†", context: "è†è“‹", pinyin: "xÄ«", options: ["qÄ«", "xÃ­", "yÃ¬"], note: "å‹¿è®€ 'ä¸ƒ'ã€‚" },
        { word: "ç©´", context: "ç©´ä½", pinyin: "xuÃ©", options: ["xuÃ¨", "xuÄ›", "kÅng"], note: "äºŒè²ï¼å‹¿è®€å››è²ã€‚" },
        { word: "äº", context: "äºæ´²", pinyin: "yÃ ", options: ["yÇ", "Ã ", "yÄ"], note: "å››è²ï¼å»£æ±äººå¸¸èª¤è®€ä¸‰è²ã€‚" },
        { word: "å’±", context: "å’±å€‘", pinyin: "zÃ¡n", options: ["zÃ¡", "zÄ", "zhÃ¡n"], note: "äºŒè²ï¼" },
        { word: "ç¶»", context: "ç ´ç¶»", pinyin: "zhÃ n", options: ["dÃ¬ng", "dian", "zhÄn"], note: "å‹¿è®€ 'å®š'ã€‚" },
        { word: "è„‚", context: "è„‚è‚ª", pinyin: "zhÄ«", options: ["zhÇ", "zÄ«", "zhÃ¬"], note: "ä¸€è²ï¼å‹¿è®€ä¸‰è²ã€‚" },
        { word: "è²¯", context: "è²¯å­˜", pinyin: "zhÃ¹", options: ["chÇ”", "zhÇ”", "nÃ­ng"], note: "å››è²ï¼å‹¿è®€ä¸‰è²ã€‚" },
        { word: "ç¶œ", context: "ç¶œåˆ", pinyin: "zÅng", options: ["zÃ²ng", "cÅng", "zhÅng"], note: "ä¸€è²ï¼å‹¿è®€å››è²ã€‚" },
        { word: "å¦", context: "å¦æ¥µæ³°ä¾†", pinyin: "pÇ", options: ["fÇ’u", "bÃ¬", "pÄ«"], note: "å£é‹æ°£åˆ°é ­è®€ pÇã€‚" },
        { word: "ç­”", context: "ç­”æ‡‰", pinyin: "dÄ", options: ["dÃ¡", "tÄ", "dÃ "], note: "æ‡‰å…è®€ dÄã€‚å›ç­”è®€ dÃ¡ã€‚" },
        { word: "æ®¼", context: "åœ°æ®¼", pinyin: "qiÃ o", options: ["kÃ©", "qiÃ ", "hÃº"], note: "åœ°çƒè¡¨å±¤è®€ qiÃ oã€‚è²æ®¼è®€ kÃ©ã€‚" },
        { word: "è‰¾", context: "æ–¹èˆˆæœªè‰¾", pinyin: "Ã i", options: ["yÃ¬", "Äi", "wÄ›i"], note: "å½¢å®¹äº‹ç‰©è“¬å‹ƒç™¼å±•è®€ Ã iã€‚è‡ªæ€¨è‡ªè‰¾è®€ yÃ¬ã€‚" },
        { word: "æ‹—", context: "æ‹—ä¸é", pinyin: "niÃ¹", options: ["Ã o", "Ço", "yÃ²u"], note: "å›ºåŸ·/ä¸é †å¾è®€ niÃ¹ã€‚æŠ˜æ–·è®€ Çoã€‚" },
        { word: "æŸ", context: "æŸæ¨¹", pinyin: "bÇi", options: ["bÃ³", "bÃ²", "bÃ¡i"], note: "æ¨¹åè®€ bÇiã€‚å¾·åœ‹æŸæ—è®€ bÃ³ã€‚" },
        { word: "å ¡", context: "ç¢‰å ¡", pinyin: "bÇo", options: ["bÇ”", "pÃ¹", "bÄo"], note: "è»äº‹å»ºç¯‰è®€ bÇoã€‚åé‡Œå ¡(åœ°å)è®€ pÃ¹ã€‚" },
        { word: "æš´", context: "ä¸€æš´åå¯’", pinyin: "pÃ¹", options: ["bÃ o", "bÃ³", "pÄo"], note: "æ›¬è®€ pÃ¹ (é€š'æ›')ã€‚æ®˜æš´è®€ bÃ oã€‚" },
        { word: "èƒŒ", context: "èƒŒè² ", pinyin: "bÄ“i", options: ["bÃ¨i", "bÄ“i", "pÄ“i"], note: "å‹•è©(é¦±)è®€ bÄ“iã€‚èƒŒéƒ¨è®€ bÃ¨iã€‚" },
        { word: "å¥”", context: "æŠ•å¥”", pinyin: "bÃ¨n", options: ["bÄ“n", "fÄ“n", "pÄ“n"], note: "æœ‰ç›®çš„åœ°å»è®€ bÃ¨nã€‚å¥”è·‘è®€ bÄ“nã€‚" },
        { word: "è£¨", context: "è£¨ç›Š", pinyin: "bÃ¬", options: ["pÃ­", "bÄ“i", "bÇ"], note: "ç›Šè™•è®€ bÃ¬ã€‚è£¨å°‡(å‰¯è·)è®€ pÃ­ã€‚" },
        { word: "æ‰", context: "æ‰èˆŸ", pinyin: "piÄn", options: ["biÇn", "piÃ n", "biÄn"], note: "å°èˆ¹è®€ piÄnã€‚æ‰å¹³è®€ biÇnã€‚" },
        { word: "ä¾¿", context: "ä¾¿å®œ", pinyin: "piÃ¡n", options: ["biÃ n", "piÄn", "bÄ«n"], note: "åƒ¹éŒ¢ä½è®€ piÃ¡nã€‚æ–¹ä¾¿è®€ biÃ nã€‚" },
        { word: "å±", context: "å±æ¯", pinyin: "bÇng", options: ["pÃ­ng", "bÄ«ng", "bÃ¬ng"], note: "æŠ‘æ­¢æ°£æ¯è®€ bÇngã€‚å±å¹•è®€ pÃ­ngã€‚" },
        { word: "å‰", context: "å‰çš®", pinyin: "bÄo", options: ["bÅ", "pÅ", "bÃ³"], note: "å£èªè®€ bÄoã€‚å‰å‰Š(æ›¸é¢)è®€ bÅã€‚" },
        { word: "æ³Š", context: "æ¹–æ³Š", pinyin: "pÅ", options: ["bÃ³", "pÃ²", "bÃ¡i"], note: "æ¹–è®€ pÅã€‚åœèˆ¹è®€ bÃ³ã€‚" },
        { word: "åƒ", context: "åƒå·®", pinyin: "cÄ“n", options: ["cÄn", "shÄ“n", "chÄ"], note: "é•·çŸ­ä¸é½Šè®€ cÄ“n cÄ«ã€‚" },
        { word: "è—", context: "å¯¶è—", pinyin: "zÃ ng", options: ["cÃ¡ng", "zhÃ ng", "zÄng"], note: "åè©è®€ zÃ ngã€‚å‹•è©(èº²è—)è®€ cÃ¡ngã€‚" },
        { word: "å ´", context: "å ´é™¢", pinyin: "chÃ¡ng", options: ["chÇng", "chÄng", "shÄng"], note: "å¹³å¦ç©ºåœ°(è¾²ç”¨)è®€ chÃ¡ngã€‚å»£å ´è®€ chÇngã€‚" },
        { word: "ç¨±", context: "ç¨±å¿ƒ", pinyin: "chÃ¨n", options: ["chÄ“ng", "chÃ¨ng", "cÃ¨n"], note: "åˆé©è®€ chÃ¨nã€‚ç¨±å‘¼è®€ chÄ“ngã€‚" },
        { word: "ä¹˜", context: "å²ä¹˜", pinyin: "shÃ¨ng", options: ["chÃ©ng", "chÃ¨ng", "shÄ“ng"], note: "å²æ›¸è®€ shÃ¨ngã€‚ä¹˜è»Šè®€ chÃ©ngã€‚" },
        { word: "é‡", context: "é‡è¤‡", pinyin: "chÃ³ng", options: ["zhÃ²ng", "tÃ³ng", "cÃ³ng"], note: "å†æ¬¡è®€ chÃ³ngã€‚é‡é‡è®€ zhÃ²ngã€‚" },
        { word: "è‡­", context: "éŠ…è‡­", pinyin: "xiÃ¹", options: ["chÃ²u", "xiu", "cÃ²u"], note: "æ°£å‘³(ç‰¹æŒ‡å£åè²)è®€ xiÃ¹ã€‚è‡­å‘³è®€ chÃ²uã€‚" },
        { word: "è™•", context: "è™•åˆ†", pinyin: "chÇ”", options: ["chÃ¹", "cÇ”", "shÃ¹"], note: "å‹•è©(è™•ç½®)è®€ chÇ”ã€‚åœ°æ–¹è®€ chÃ¹ã€‚" },
        { word: "ç•œ", context: "ç•œç‰§", pinyin: "xÃ¹", options: ["chÃ¹", "chuu", "zÄ«"], note: "é£¼é¤Šè®€ xÃ¹ã€‚ç‰²ç•œè®€ chÃ¹ã€‚" },
        { word: "å‰µ", context: "é‡å‰µ", pinyin: "chuÄng", options: ["chuÃ ng", "cÄng", "shuÄng"], note: "å‰µå‚·è®€ chuÄngã€‚å‰µé€ è®€ chuÃ ngã€‚" },
        { word: "ä¼º", context: "ä¼ºå€™", pinyin: "cÃ¬", options: ["sÃ¬", "shÃ¬", "cÄ«"], note: "æœä¾è®€ cÃ¬ã€‚çªºæ¢(ä¼ºæ©Ÿ)è®€ sÃ¬ã€‚" },
        { word: "é€®", context: "é€®è€é¼ ", pinyin: "dÇi", options: ["dÃ i", "tÃ i", "dÄi"], note: "å£èªæ‰æ‹¿è®€ dÇiã€‚é€®æ•(æ›¸é¢)è®€ dÃ iã€‚" },
        { word: "ç•¶", context: "ç•¶çœŸ", pinyin: "dÃ ng", options: ["dÄng", "tÄng", "dÇng"], note: "èªç‚º/ä½œç‚ºè®€ dÃ ngã€‚æ‡‰ç•¶è®€ dÄngã€‚" },
        { word: "å€’", context: "å€’æ°´", pinyin: "dÃ o", options: ["dÇo", "tÃ o", "dÄo"], note: "å‚¾å‡ºè®€ dÃ oã€‚è·Œå€’è®€ dÇoã€‚" },
        { word: "åº¦", context: "æ£åº¦", pinyin: "duÃ³", options: ["dÃ¹", "duÅ", "tÃ¹"], note: "æ¨æ¸¬è®€ duÃ³ã€‚ç¨‹åº¦è®€ dÃ¹ã€‚" },
        { word: "é˜¿", context: "é˜¿è«›", pinyin: "Ä“", options: ["Ä", "a", "Ã¡"], note: "è¿åˆè®€ Ä“ yÃºã€‚" },
        { word: "è²", context: "è²è–„", pinyin: "fÄ›i", options: ["fÄ“i", "fÄ›", "fÃ¨i"], note: "å¾®è–„è®€ fÄ›iã€‚èŠ³è²(èŠ±è‰é¦™)è®€ fÄ“iã€‚" },
        { word: "ä½›", context: "å½·å½¿", pinyin: "fÃº", options: ["fÃ³", "fÅ«", "bÃ³"], note: "è®€ fÃºã€‚ä½›ç¥–è®€ fÃ³ã€‚" },
        { word: "ä¾›", context: "å£ä¾›", pinyin: "gÃ²ng", options: ["gÅng", "gÇ’ng", "jÄ«ng"], note: "ä¾›è©/ä¾›å“è®€ gÃ²ngã€‚ä¾›çµ¦è®€ gÅngã€‚" },
        { word: "æ¸", context: "æ¸æ", pinyin: "gÇ’u", options: ["jÅ«", "gÅu", "qÃ­"], note: "è®€ gÇ’uã€‚æ¸æ©˜è®€ jÅ«ã€‚" },
        { word: "å† ", context: "å† å¿ƒç—…", pinyin: "guÄn", options: ["guÃ n", "guÇn", "huÃ n"], note: "å½¢ç‹€åƒå¸½å­çš„è®€ guÄnã€‚å† è»è®€ guÃ nã€‚" },
        { word: "è·", context: "è² è·", pinyin: "hÃ¨", options: ["hÃ©", "hÄ“", "kÄ›"], note: "æ‰¿æ“”è®€ hÃ¨ã€‚è·èŠ±è®€ hÃ©ã€‚" },
        { word: "å–", context: "å–é‡‡", pinyin: "hÃ¨", options: ["hÄ“", "kÄ›", "yÃ¨"], note: "å¤§è²å«å¥½è®€ hÃ¨ã€‚å–æ°´è®€ hÄ“ã€‚" },
        { word: "æ©«", context: "æ©«è²¡", pinyin: "hÃ¨ng", options: ["hÃ©ng", "hÄ“ng", "gÃ¨ng"], note: "æ„å¤–çš„/å…‡æš´çš„è®€ hÃ¨ngã€‚æ©«ç·šè®€ hÃ©ngã€‚" },
        { word: "å“„", context: "èµ·å“„", pinyin: "hÃ²ng", options: ["hÅng", "hÇ’ng", "gÅng"], note: "åµé¬§è®€ hÃ²ngã€‚å“„é¨™è®€ hÇ’ngã€‚" },
        { word: "å¥‡", context: "å¥‡æ•¸", pinyin: "jÄ«", options: ["qÃ­", "jÃ­", "yÇ"], note: "å–®æ•¸è®€ jÄ«ã€‚å¥‡æ€ªè®€ qÃ­ã€‚" },
        { word: "è—‰", context: "æ…°è—‰", pinyin: "jiÃ¨", options: ["jÃ­", "jÃ¬", "xÃ­"], note: "å®‰æ…°è®€ jiÃ¨ã€‚ç‹¼è—‰è®€ jÃ­ã€‚" },
        { word: "å®¶", context: "å®¶çœ·", pinyin: "jiÄ", options: ["jia", "jiÃ ", "gÅ«"], note: "è®€ jiÄã€‚æ•´å¤©å®¶(è©ç¶´)è®€ jiaã€‚" },
        { word: "å¤¾", context: "å¤¾è‚¢çª©", pinyin: "gÄ", options: ["jiÄ", "jiÃ¡", "xiÃ¡"], note: "è…‹ä¸‹è®€ gÄã€‚å¤¾å­è®€ jiÄã€‚" },
        { word: "å‡", context: "æš‘å‡", pinyin: "jiÃ ", options: ["jiÇ", "xiÃ ", "gÇ"], note: "ä¼‘å‡è®€ jiÃ ã€‚çœŸå‡è®€ jiÇã€‚" },
        { word: "é–“", context: "é–“è«œ", pinyin: "jiÃ n", options: ["jiÄn", "gÄn", "xiÃ¡n"], note: "è®€ jiÃ nã€‚ä¸­é–“è®€ jiÄnã€‚" },
        { word: "å°‡", context: "å°‡é ˜", pinyin: "jiÃ ng", options: ["jiÄng", "qiÄng", "xiÃ¡ng"], note: "è»å®˜è®€ jiÃ ngã€‚å°‡ä¾†è®€ jiÄngã€‚" },
        { word: "åš¼", context: "ç´°åš¼æ…¢åš¥", pinyin: "jiÃ¡o", options: ["juÃ©", "jiÃ o", "zuÇ"], note: "å£èªè®€ jiÃ¡oã€‚å’€åš¼(æ›¸é¢)è®€ juÃ©ã€‚" },
        { word: "è§’", context: "ä¸»è§’", pinyin: "juÃ©", options: ["jiÇo", "jÃº", "jiÃ "], note: "è§’è‰²è®€ juÃ©ã€‚è§’è½è®€ jiÇoã€‚" },
        { word: "çµ", context: "çµå¯¦", pinyin: "jiÄ“", options: ["jiÃ©", "jÄ«", "xiÃ©"], note: "å …å›º/é•·æœå¯¦è®€ jiÄ“ã€‚çµç¶²è®€ jiÃ©ã€‚" },
        { word: "ç¦", context: "ç¦å—", pinyin: "jÄ«n", options: ["jÃ¬n", "jÄ«ng", "qÃ­n"], note: "å¿å—è®€ jÄ«nã€‚ç¦æ­¢è®€ jÃ¬nã€‚" },
        { word: "å‹", context: "å‰›å‹", pinyin: "jÃ¬ng", options: ["jÃ¬n", "jÄ«ng", "gÄ“ng"], note: "å¼·æœ‰åŠ›è®€ jÃ¬ngã€‚å¹¹å‹è®€ jÃ¬nã€‚" },
        { word: "å·", context: "å·å®—", pinyin: "juÃ n", options: ["juÇn", "quÄn", "xuÃ n"], note: "æª”æ¡ˆè®€ juÃ nã€‚æ²èµ·è®€ juÇnã€‚" },
        { word: "å¡", context: "é—œå¡", pinyin: "qiÇ", options: ["kÇ", "qiÄ", "gÇ"], note: "å®ˆè¡›è™•è®€ qiÇã€‚å¡ç‰‡è®€ kÇã€‚" },
        { word: "çœ‹", context: "çœ‹å®ˆ", pinyin: "kÄn", options: ["kÃ n", "hÄn", "kÄng"], note: "å®ˆè­·è®€ kÄnã€‚çœ‹è¦‹è®€ kÃ nã€‚" },
        { word: "ç©º", context: "ç©ºç¼º", pinyin: "kÃ²ng", options: ["kÅng", "kÇ’ng", "hÅng"], note: "é–’æš‡/è·ä½ç¼ºè®€ kÃ²ngã€‚å¤©ç©ºè®€ kÅngã€‚" },
        { word: "ç´¯", context: "å‹ç´¯", pinyin: "lÃ¨i", options: ["lÄ›i", "lÃ©i", "lÃ¨"], note: "ç–²å‹è®€ lÃ¨iã€‚ç©ç´¯è®€ lÄ›iã€‚" },
        { word: "é‡", context: "é‡é«”æº«", pinyin: "liÃ¡ng", options: ["liÃ ng", "liÇng", "niÃ¡ng"], note: "æ¸¬é‡è®€ liÃ¡ngã€‚æ•¸é‡è®€ liÃ ngã€‚" },
        { word: "æ½¦", context: "æ½¦è‰", pinyin: "lÇo", options: ["liÃ¡o", "lÃ o", "liÇo"], note: "è®€ lÇoã€‚æ½¦å€’è®€ liÃ¡oã€‚" },
        { word: "è½", context: "è½æ•", pinyin: "lÃ o", options: ["luÃ²", "lÃ ", "luÅ"], note: "è„–å­ç—›è®€ lÃ oã€‚é™è½è®€ luÃ²ã€‚ä¸Ÿä¸‰è½å››è®€ lÃ ã€‚" },
        { word: "éœ²", context: "éœ²é¢", pinyin: "lÃ²u", options: ["lÃ¹", "lÃ³u", "lÃ o"], note: "å£èªé¡¯éœ²è®€ lÃ²uã€‚éœ²æ°´è®€ lÃ¹ã€‚" },
        { word: "ç‡", context: "ç‡é ˜", pinyin: "shuÃ i", options: ["lÇœ", "suÃ i", "lÃ¹"], note: "å¸¶é ˜è®€ shuÃ iã€‚æ•ˆç‡è®€ lÇœã€‚" },
        { word: "è„ˆ", context: "è„ˆè„ˆ", pinyin: "mÃ²", options: ["mÃ i", "mÃ³", "bÃ³"], note: "å«æƒ…è²Œè®€ mÃ²ã€‚è„ˆæè®€ mÃ iã€‚" },
        { word: "æ²’", context: "æ²’æ”¶", pinyin: "mÃ²", options: ["mÃ©i", "muÃ²", "bÃ³"], note: "æ‰£æ”¶è®€ mÃ²ã€‚æ²’æœ‰è®€ mÃ©iã€‚" },
        { word: "æ‚¶", context: "æ‚¶ç†±", pinyin: "mÄ“n", options: ["mÃ¨n", "mÄ“ng", "mÃ³ng"], note: "æ°£å£“ä½è®€ mÄ“nã€‚ç…©æ‚¶è®€ mÃ¨nã€‚" },
        { word: "é¡", context: "é¡è²»", pinyin: "mÃ­", options: ["mÇ", "mÃ©i", "mÃ¬"], note: "æµªè²»è®€ mÃ­ã€‚é¢¨é¡è®€ mÇã€‚" },
        { word: "æ¨¡", context: "æ¨¡å…·", pinyin: "mÃº", options: ["mÃ³", "mÃ²", "mÃ¹"], note: "å·¥å…·è®€ mÃºã€‚æ¨¡ç¯„è®€ mÃ³ã€‚" },
        { word: "é›£", context: "è²¬é›£", pinyin: "nÃ n", options: ["nÃ¡n", "nuÃ²", "luÃ n"], note: "è³ªå•/ç½ç¦è®€ nÃ nã€‚å›°é›£è®€ nÃ¡nã€‚" },
        { word: "å¯§", context: "å¯§é¡˜", pinyin: "nÃ¬ng", options: ["nÃ­ng", "nÄ«ng", "lÃ¬ng"], note: "æƒ…é¡˜è®€ nÃ¬ngã€‚å®‰å¯§è®€ nÃ­ngã€‚" },
        { word: "ç˜§", context: "ç˜§ç–¾", pinyin: "nÃ¼Ã¨", options: ["yÃ o", "niÃ¨", "xuÃ¨"], note: "ç—…åè®€ nÃ¼Ã¨ã€‚" },
        { word: "å™´", context: "å™´é¦™", pinyin: "pÃ¨n", options: ["pÄ“n", "fÄ“n", "bÃ¨n"], note: "é¦™æ°£æ¿ƒè®€ pÃ¨nã€‚å™´æ°´è®€ pÄ“nã€‚" },
        { word: "ç‰‡", context: "å”±ç‰‡", pinyin: "piÃ n", options: ["piÄn", "biÃ n", "pÃ n"], note: "PSC æ¨™æº–è®€ piÃ nã€‚" },
        { word: "æ¼‚", context: "æ¼‚ç™½", pinyin: "piÇo", options: ["piÄo", "piÃ o", "biÄo"], note: "æ´—æ·¨è®€ piÇoã€‚æ¼‚äº®è®€ piÃ oã€‚" },
        { word: "æ’‡", context: "æ’‡é–‹", pinyin: "piÄ“", options: ["piÄ›", "biÄ“", "piÃ©"], note: "æ‹‹é–‹è®€ piÄ“ã€‚ç­†ç•«è®€ piÄ›ã€‚" },
        { word: "è„¯", context: "æœè„¯", pinyin: "fÇ”", options: ["pÃº", "bÇ”", "pÇ”"], note: "è‚‰ä¹¾/æœä¹¾è®€ fÇ”ã€‚èƒ¸è„¯è®€ pÃºã€‚" },
        { word: "ä»†", context: "å‰ä»†å¾Œç¹¼", pinyin: "pÅ«", options: ["pÃº", "bÇ”", "fÃ¹"], note: "è·Œå€’è®€ pÅ«ã€‚åƒ•äººè®€ pÃºã€‚" },
        { word: "æ£²", context: "æ£²æ¯", pinyin: "qÄ«", options: ["xÄ«", "qÃ¬", "jÄ«"], note: "è®€ qÄ«ã€‚å‹¿è®€ xÄ«ã€‚" },
        { word: "è¹Š", context: "è¹Šè¹º", pinyin: "qÄ«", options: ["xÄ«", "qÃ¬", "jÄ«"], note: "è®€ qÄ«ã€‚å‹¿è®€ xÄ«ã€‚" },
        { word: "ç¨½", context: "ç¨½é¦–", pinyin: "qÇ", options: ["jÄ«", "jiÄ“", "kÃ¨"], note: "å©é ­è®€ qÇã€‚æ»‘ç¨½è®€ jÄ«ã€‚" },
        { word: "ä¹¾", context: "ä¹¾å¤", pinyin: "qiÃ¡n", options: ["gÄn", "kÅ«n", "hÃ¡n"], note: "å…«å¦è®€ qiÃ¡nã€‚ä¹¾ç‡¥è®€ gÄnã€‚" },
        { word: "å¼·", context: "å€”å¼·", pinyin: "jiÃ ng", options: ["qiÃ¡ng", "qiÇng", "qiÄng"], note: "å›ºåŸ·è®€ jiÃ ngã€‚" },
        { word: "æ‚„", context: "æ‚„ç„¡è²æ¯", pinyin: "qiÇo", options: ["qiÄo", "xiÄo", "qiÃ o"], note: "å¯‚éœè®€ qiÇoã€‚æ‚„æ‚„è©±è®€ qiÄoã€‚" },
        { word: "ç¿¹", context: "ç¿¹é¦–", pinyin: "qiÃ¡o", options: ["qiÃ o", "yÃ¡o", "jiÃ o"], note: "æŠ¬èµ·è®€ qiÃ¡oã€‚ç¿¹å°¾å·´è®€ qiÃ oã€‚" },
        { word: "è¦ª", context: "è¦ªå®¶", pinyin: "qÃ¬ng", options: ["qÄ«n", "qÃ­ng", "xÄ«n"], note: "å§»è¦ªè®€ qÃ¬ngã€‚" },
        { word: "æ›²", context: "æ›²æŠ˜", pinyin: "qÅ«", options: ["qÇ”", "quÄ“", "gÅ«"], note: "å½æ›²è®€ qÅ«ã€‚æ­Œæ›²è®€ qÇ”ã€‚" },
        { word: "åœˆ", context: "åœˆé¤Š", pinyin: "juÃ n", options: ["quÄn", "juÄn", "quÃ¡n"], note: "é¤Šç¸æ¬„è®€ juÃ nã€‚" },
        { word: "å–ª", context: "å–ªç¦®", pinyin: "sÄng", options: ["sÃ ng", "shÄng", "zÄng"], note: "å„€å¼è®€ sÄngã€‚å–ªå¤±è®€ sÃ ngã€‚" },
        { word: "è‰²", context: "æ‰è‰²", pinyin: "shÇi", options: ["sÃ¨", "shÃ ", "sÄi"], note: "å£èª(é¡è‰²)è®€ shÇiã€‚" },
        { word: "å¡", context: "å¡è»Š", pinyin: "sÄi", options: ["sÃ¨", "sÃ i", "zÃ¨"], note: "å‹•è©è®€ sÄiã€‚è¦å¡è®€ sÃ iã€‚é–‰å¡è®€ sÃ¨ã€‚" },
        { word: "å‰", context: "å‰è»Š", pinyin: "shÄ", options: ["chÃ ", "shÃ ", "cÄ"], note: "åˆ¶å‹•è®€ shÄã€‚å¤å‰è®€ chÃ ã€‚" },
        { word: "å»ˆ", context: "å¤§å»ˆ", pinyin: "shÃ ", options: ["xiÃ ", "xiÃ¡", "shÄ"], note: "é«˜æ¨“è®€ shÃ ã€‚å»ˆé–€è®€ xiÃ ã€‚" },
        { word: "æŠ˜", context: "æŠ˜æœ¬", pinyin: "shÃ©", options: ["zhÃ©", "zhÄ“", "xiÃ©"], note: "è™§æè®€ shÃ©ã€‚æŠ˜æ–·è®€ zhÃ©ã€‚" },
        { word: "èˆ", context: "å®¿èˆ", pinyin: "shÃ¨", options: ["shÄ›", "sÃ¨", "xiÃ "], note: "æˆ¿å±‹è®€ shÃ¨ã€‚æ¨æ£„è®€ shÄ›ã€‚" },
        { word: "è­˜", context: "æ¨™è­˜", pinyin: "zhÃ¬", options: ["shÃ­", "zhÇ", "sÃ¬"], note: "è¨˜è™Ÿè®€ zhÃ¬ã€‚çŸ¥è­˜è®€ shÃ­ã€‚" },
        { word: "ä¼¼", context: "ä¼¼çš„", pinyin: "shÃ¬", options: ["sÃ¬", "shÃ­", "yÇ"], note: "åŠ©è©è®€ shÃ¬ã€‚ç›¸ä¼¼è®€ sÃ¬ã€‚" },
        { word: "çœ", context: "åçœ", pinyin: "xÇng", options: ["shÄ›ng", "shÄ“ng", "xÄ«ng"], note: "æª¢æŸ¥è‡ªå·±è®€ xÇngã€‚çœä»½è®€ shÄ›ngã€‚" },
        { word: "æ•¸", context: "æ•¸è½", pinyin: "shÇ”", options: ["shÃ¹", "shuÃ²", "sÃ¹"], note: "åˆ—èˆ‰éå¤±è®€ shÇ”ã€‚" },
        { word: "é‚", context: "åŠèº«ä¸é‚", pinyin: "suÃ­", options: ["suÃ¬", "shuÇ", "zhÃº"], note: "éº»ç—¹è®€ suÃ­ã€‚é‚é¡˜è®€ suÃ¬ã€‚" },
        { word: "æ²“", context: "ä¸€æ²“ç´™", pinyin: "dÃ¡", options: ["tÃ ", "tÃ¡", "dÃ "], note: "é‡è©è®€ dÃ¡ã€‚ç´›è‡³æ²“ä¾†è®€ tÃ ã€‚" },
        { word: "è‹”", context: "èˆŒè‹”", pinyin: "tÄi", options: ["tÃ¡i", "dÃ i", "tÃ i"], note: "è®€ tÄiã€‚è‹”è˜šè®€ tÃ¡iã€‚" },
        { word: "èª¿", context: "èª¿åº¦", pinyin: "diÃ o", options: ["tiÃ¡o", "tiÇo", "zhÅu"], note: "èª¿å‹•è®€ diÃ oã€‚èª¿ç¯€è®€ tiÃ¡oã€‚" },
        { word: "å¸–", context: "å¦¥å¸–", pinyin: "tiÄ“", options: ["tiÃ¨", "tiÄ›", "diÃ©"], note: "åˆé©è®€ tiÄ“ã€‚è«‹å¸–è®€ tiÄ›ã€‚" },
        { word: "å", context: "è«‡å", pinyin: "tÇ”", options: ["tÃ¹", "tÅ«", "dÃ¹"], note: "ç™¼å‡ºè²éŸ³/æ±è¥¿è®€ tÇ”ã€‚å˜”åè®€ tÃ¹ã€‚" },
        { word: "ç“¦", context: "ç“¦åˆ€", pinyin: "wÃ ", options: ["wÇ", "wÄ", "gÃ i"], note: "å·¥å…·è®€ wÃ ã€‚ç“¦ç‰‡è®€ wÇã€‚" },
        { word: "ç‚º", context: "å› ç‚º", pinyin: "wÃ¨i", options: ["wÃ©i", "wÄ›i", "yÄ«n"], note: "ä»‹è©è®€ wÃ¨iã€‚ä½œç‚ºè®€ wÃ©iã€‚" },
        { word: "é®®", context: "é®®ç‚ºäººçŸ¥", pinyin: "xiÇn", options: ["xiÄn", "xuÇn", "jiÃ n"], note: "å°‘è®€ xiÇnã€‚æ–°é®®è®€ xiÄnã€‚" },
        { word: "ç›¸", context: "çœŸç›¸", pinyin: "xiÃ ng", options: ["xiÄng", "jiÄng", "sÇng"], note: "å®¹è²Œ/å¯¦è³ªè®€ xiÃ ngã€‚äº’ç›¸è®€ xiÄngã€‚" },
        { word: "å®¿", context: "æ˜Ÿå®¿", pinyin: "xiÃ¹", options: ["sÃ¹", "xiÇ”", "suÅ"], note: "æ˜Ÿåº§è®€ xiÃ¹ã€‚ä½å®¿è®€ sÃ¹ã€‚ä¸€å®¿è®€ xiÇ”ã€‚" },
        { word: "å‰Š", context: "å‰å‰Š", pinyin: "xuÄ“", options: ["xiÄo", "xiÃ o", "shuÄ"], note: "æ›¸é¢è®€ xuÄ“ã€‚å‰Šçš®(å£èª)è®€ xiÄoã€‚" },
        { word: "è¡€", context: "è¡€æ·‹æ·‹", pinyin: "xiÄ›", options: ["xuÃ¨", "xuÄ›", "xiÃ¨"], note: "å£èªè®€ xiÄ›ã€‚è¡€æ¶²è®€ xuÃ¨ã€‚" },
        { word: "æ®·", context: "æ®·ç´…", pinyin: "yÄn", options: ["yÄ«n", "yÇn", "yÃ n"], note: "é»‘ç´…è®€ yÄnã€‚æ®·åˆ‡è®€ yÄ«nã€‚" },
        { word: "å’½", context: "å—šå’½", pinyin: "yÃ¨", options: ["yÃ n", "yÄn", "yie"], note: "æ‚²æ³£è®€ yÃ¨ã€‚åå’½è®€ yÃ nã€‚" },
        { word: "é‘°", context: "é‘°åŒ™", pinyin: "yÃ o", options: ["yuÃ¨", "yÄo", "shÃ¬"], note: "è®€ yÃ oã€‚é–é‘°(æ›¸é¢)è®€ yuÃ¨ã€‚" },
        { word: "è‘‰", context: "è‘‰éŸ»", pinyin: "xiÃ©", options: ["yÃ¨", "shi", "jia"], note: "å”éŸ»è®€ xiÃ©ã€‚" },
        { word: "æ‡‰", context: "æ‡‰ç”¨", pinyin: "yÃ¬ng", options: ["yÄ«ng", "yÃ­ng", "rÃ¨n"], note: "åè©/å‹•è©è®€ yÃ¬ngã€‚æ‡‰è©²è®€ yÄ«ngã€‚" },
        { word: "å‚­", context: "å‚­é‡‘", pinyin: "yÃ²ng", options: ["yÅng", "rÇ’ng", "tÅng"], note: "è²»è®€ yÃ²ngã€‚å‚­äººè®€ yÅngã€‚" },
        { word: "ç†¨", context: "ç†¨å¸–", pinyin: "yÃ¹", options: ["yÃ¹n", "wÃ¨i", "yÃºn"], note: "å®‰é©è®€ yÃ¹ã€‚ç†¨æ–—è®€ yÃ¹nã€‚" },
        { word: "èˆ‡", context: "åƒèˆ‡", pinyin: "yÃ¹", options: ["yÇ”", "yÃº", "jÇ”"], note: "åƒåŠ è®€ yÃ¹ã€‚èˆ‡å…¶è®€ yÇ”ã€‚" },
        { word: "å", context: "æ°£å–˜åå", pinyin: "xÅ«", options: ["yÃ¹", "yÃº", "yÅ«"], note: "æ“¬è²è©è®€ xÅ«ã€‚å‘¼ç±²è®€ yÃ¹ã€‚" },
        { word: "æšˆ", context: "æšˆè»Š", pinyin: "yÃ¹n", options: ["yÅ«n", "hÅ«n", "huÄ«"], note: "è®€ yÃ¹nã€‚æšˆå€’è®€ yÅ«nã€‚" },
        { word: "è¼‰", context: "ä¸‹è¼‰", pinyin: "zÃ i", options: ["zÇi", "chÄi", "cÃ¡i"], note: "è£è¼‰/æ•¸æ“šè®€ zÃ iã€‚ä¸‰å¹´äº”è¼‰è®€ zÇiã€‚" },
        { word: "æ“‡", context: "æ“‡èœ", pinyin: "zhÃ¡i", options: ["zÃ©", "zhÃ ", "cÃ¨"], note: "å£èªè®€ zhÃ¡iã€‚é¸æ“‡è®€ zÃ©ã€‚" },
        { word: "æ‰", context: "æ™æ‰", pinyin: "zhÃ¡", options: ["zhÄ", "zÄ", "zhÃ "], note: "è®€ zhÃ¡ã€‚æ‰é‡è®€ zhÄã€‚" },
        { word: "è»‹", context: "å‚¾è»‹", pinyin: "yÃ ", options: ["zhÃ¡", "gÃ¡", "zÄ"], note: "æ’æ“ è®€ yÃ ã€‚è»‹é‹¼è®€ zhÃ¡ã€‚" },
        { word: "ç²˜", context: "ç²˜è²¼", pinyin: "zhÄn", options: ["niÃ¡n", "nÄn", "zi"], note: "å‹•è©è®€ zhÄnã€‚ç²˜ç¨ (å½¢å®¹è©)è®€ niÃ¡nã€‚" },
        { word: "æ¼²", context: "é ­æ˜è…¦æ¼²", pinyin: "zhÃ ng", options: ["zhÇng", "zhÄng", "chÃ¡ng"], note: "å……è¡€/å¤šå‡ºè®€ zhÃ ngã€‚æ¼²æ½®è®€ zhÇngã€‚" },
        { word: "è‘—", context: "è‘—æ€¥", pinyin: "zhÃ¡o", options: ["zhe", "zhuÃ³", "zhÃ¹"], note: "ç„¦æ€¥è®€ zhÃ¡oã€‚ç©¿è‘—è®€ zhuÃ³ã€‚" },
        { word: "æ­£", context: "æ­£æœˆ", pinyin: "zhÄ“ng", options: ["zhÃ¨ng", "zheng", "jÄ«ng"], note: "è¾²æ›†ä¸€æœˆè®€ zhÄ“ngã€‚æ­£ç¢ºè®€ zhÃ¨ngã€‚" },
        { word: "åª", context: "åªèº«", pinyin: "zhÄ«", options: ["zhÇ", "qÃ­", "zi"], note: "å–®ç¨è®€ zhÄ«ã€‚åªæœ‰è®€ zhÇã€‚" },
        { word: "ä¸­", context: "ä¸­è‚¯", pinyin: "zhÃ²ng", options: ["zhÅng", "zong", "cÅng"], note: "åˆä¹è®€ zhÃ²ngã€‚ä¸­é–“è®€ zhÅngã€‚" },
        { word: "ç¨®", context: "ç¨®åœ°", pinyin: "zhÃ²ng", options: ["zhÇ’ng", "zÇ’ng", "cÃ³ng"], note: "å‹•ä½œè®€ zhÃ²ngã€‚ç¨®é¡è®€ zhÇ’ngã€‚" },
        { word: "è»¸", context: "å£“è»¸", pinyin: "zhÃ²u", options: ["zhÃ³u", "chÅu", "yÃ³u"], note: "æœ€å¾Œä¸€é½£è®€ zhÃ²uã€‚è»Šè»¸è®€ zhÃ³uã€‚" },
        { word: "å±¬", context: "å±¬æ„", pinyin: "zhÇ”", options: ["shÇ”", "sÇ”", "zÇ”"], note: "æ„å‘è®€ zhÇ”ã€‚å±¬æ–¼è®€ shÇ”ã€‚" },
        { word: "è½‰", context: "è½‰æ–‡", pinyin: "zhuÇi", options: ["zhuÇn", "zhuÃ n", "chuÃ¡n"], note: "è³£å¼„æ–‡é‡‡è®€ zhuÇiã€‚" },
        { word: "é‘½", context: "é‘½çŸ³", pinyin: "zuÄn", options: ["zuÃ n", "zÄn", "cuan"], note: "å¯¶çŸ³è®€ zuÄnã€‚é‘½é ­è®€ zuÃ nã€‚" },
        { word: "ä½œ", context: "ä½œåŠ", pinyin: "zuÅ", options: ["zuÃ²", "zÃ©", "zuÃ³"], note: "å·¥å ´è®€ zuÅã€‚å·¥ä½œè®€ zuÃ²ã€‚" },
        { word: "å¡‘", context: "å¡‘æ–™", pinyin: "sÃ¹", options: ["suÃ²", "shÃ¹", "shuÃ²"], note: "å¹³èˆŒ sÃ¹ã€‚å»£æ±äººå¸¸è®€ shÃ¹/suÃ²ã€‚" },
        { word: "æ¾€", context: "ç¾æ¾€", pinyin: "sÃ¨", options: ["shÃ¨", "sÃ ", "xiÅ«"], note: "å¹³èˆŒ sÃ¨ã€‚å»£æ±äººå¸¸è®€ shÃ¨ã€‚" },
        { word: "æ", context: "ç ´æ", pinyin: "sÇ”n", options: ["shÇ”n", "xÇ”n", "suen"], note: "å¹³èˆŒ sÇ”nã€‚" },
        { word: "éš¨", context: "éš¨ä¾¿", pinyin: "suÃ­", options: ["shuÃ­", "xuÃ­", "chui"], note: "å¹³èˆŒ suÃ­ã€‚" },
        { word: "ä¿—", context: "é€šä¿—", pinyin: "sÃº", options: ["shÃº", "xÃº", "sÃ¹"], note: "å¹³èˆŒ sÃºã€‚" },
        { word: "æœ", context: "æœç´¢", pinyin: "sÅu", options: ["shÅu", "xiÅ«", "sÅu"], note: "å¹³èˆŒ sÅuã€‚" },
        { word: "æš«", context: "æš«æ™‚", pinyin: "zÃ n", options: ["zhÃ n", "zÃ¡n", "chÃ n"], note: "å¹³èˆŒ zÃ nã€‚å‹¿è®€ zhÃ nã€‚" },
        { word: "é‘¿", context: "ç¢ºé‘¿", pinyin: "zÃ¡o", options: ["zuÃ²", "zhuÃ³", "zÃ o"], note: "å¹³èˆŒ zÃ¡oã€‚å‹¿è®€ zuÃ²/zhuÃ³ã€‚" },
        { word: "å®°", context: "ä¸»å®°", pinyin: "zÇi", options: ["zhÇi", "zÃ i", "jiÄ›"], note: "å¹³èˆŒ zÇiã€‚" },
        { word: "æ€", context: "æ€éº¼", pinyin: "zÄ›n", options: ["zhÄ›n", "zÄ›", "zÃ¡ng"], note: "å¹³èˆŒ zÄ›nã€‚" },
        { word: "å®—", context: "å®—æ—¨", pinyin: "zÅng", options: ["zhÅng", "zÃ²ng", "jÅng"], note: "å¹³èˆŒ zÅngã€‚" },
        { word: "å†Š", context: "æ‰‹å†Š", pinyin: "cÃ¨", options: ["chÃ¨", "zÃ¨", "cÄ"], note: "å¹³èˆŒ cÃ¨ã€‚" },
        { word: "æ“¦", context: "æ‘©æ“¦", pinyin: "cÄ", options: ["chÄ", "chÃ¡", "cÇ"], note: "å¹³èˆŒ cÄã€‚" },
        { word: "æ¸¬", context: "æ¸¬é©—", pinyin: "cÃ¨", options: ["chÃ¨", "zÃ¨", "cÄ"], note: "å¹³èˆŒ cÃ¨ã€‚" },
        { word: "åƒ", context: "åƒåŠ ", pinyin: "cÄn", options: ["chÄn", "shÄ“n", "cÇn"], note: "å¹³èˆŒ cÄnã€‚" },
        { word: "å±¤", context: "å±¤æ¬¡", pinyin: "cÃ©ng", options: ["chÃ©ng", "cÃ©n", "cÃ¨ng"], note: "å¹³èˆŒ cÃ©ngã€‚" },
        { word: "éŒ¯", context: "éŒ¯èª¤", pinyin: "cuÃ²", options: ["chuÃ²", "cÃ²u", "cuÅ"], note: "å¹³èˆŒ cuÃ²ã€‚" },
        { word: "å‚µ", context: "å‚µå‹™", pinyin: "zhÃ i", options: ["zÃ i", "jiÃ¨", "zhÄi"], note: "æ²èˆŒ zhÃ iã€‚å‹¿è®€ zÃ iã€‚" },
        { word: "æ£§", context: "å®¢æ£§", pinyin: "zhÃ n", options: ["zÃ n", "jiÃ n", "zhÄn"], note: "æ²èˆŒ zhÃ nã€‚" },
        { word: "ä½”", context: "ä½”æ“š", pinyin: "zhÃ n", options: ["zÃ n", "diÃ n", "zhÄn"], note: "æ²èˆŒ zhÃ nã€‚" },
        { word: "è²", context: "å …è²", pinyin: "zhÄ“n", options: ["zÄ“n", "zhÄ“ng", "zhÃ¨n"], note: "æ²èˆŒ zhÄ“nã€‚" },
        { word: "è·", context: "è·æ¥­", pinyin: "zhÃ­", options: ["zÃ­", "zhÃ¬", "zhÇ"], note: "æ²èˆŒäºŒè² zhÃ­ã€‚" },
        { word: "é€", context: "è¿½é€", pinyin: "zhÃº", options: ["zÃº", "zhÃ¹", "zhÇ”"], note: "æ²èˆŒ zhÃºã€‚" },
        { word: "å¾¹", context: "å¾¹åº•", pinyin: "chÃ¨", options: ["cÃ¨", "qiÃ¨", "chÄ“"], note: "æ²èˆŒ chÃ¨ã€‚å‹¿è®€ cÃ¨ã€‚" },
        { word: "æ‹†", context: "æ‹†ä¿¡", pinyin: "chÄi", options: ["cÄi", "chÃ¨", "chÄ"], note: "æ²èˆŒ chÄiã€‚å‹¿è®€ cÄiã€‚" },
        { word: "æ²ˆ", context: "æ²ˆé™½", pinyin: "shÄ›n", options: ["chÃ©n", "sÄ›n", "shÃ©n"], note: "æ²èˆŒ shÄ›nã€‚å§“æ°ã€‚" },
        { word: "è³", context: "æ¬£è³", pinyin: "shÇng", options: ["sÇng", "shÄng", "shÃ ng"], note: "æ²èˆŒ shÇngã€‚" },
        { word: "æ®º", context: "æ®ºèŒ", pinyin: "shÄ", options: ["sÄ", "shÃ ", "shÃ¡"], note: "æ²èˆŒ shÄã€‚" },
        { word: "æ›¬", context: "æ›¬å¤ªé™½", pinyin: "shÃ i", options: ["sÃ i", "shÃ ", "sÄi"], note: "æ²èˆŒ shÃ iã€‚å‹¿è®€ sÃ iã€‚" },
        { word: "æš–", context: "æº«æš–", pinyin: "nuÇn", options: ["luÇn", "nÇn", "nuÃ¡n"], note: "é¼»éŸ³ nã€‚å‹¿è®€ lã€‚" },
        { word: "æ¿ƒ", context: "æ¿ƒåš", pinyin: "nÃ³ng", options: ["lÃ³ng", "yÃ³ng", "nÃ©ng"], note: "é¼»éŸ³ nã€‚" },
        { word: "å«©", context: "å¬Œå«©", pinyin: "nÃ¨n", options: ["lÃ¨n", "nÃ¹n", "rÃ¨n"], note: "é¼»éŸ³ nã€‚" },
        { word: "æ“¬", context: "æ¨¡æ“¬", pinyin: "nÇ", options: ["lÇ", "yÇ", "nÃ­"], note: "é¼»éŸ³ nã€‚" },
        { word: "è™", context: "è™å¾…", pinyin: "nÃ¼Ã¨", options: ["luÃ¨", "yuÃ¨", "nÃ¨"], note: "é¼»éŸ³ nã€‚" },
        { word: "æ‹", context: "æ‹åŒ…", pinyin: "lÄ«n", options: ["nÄ«n", "lÄ«ng", "lÇn"], note: "é‚ŠéŸ³ lã€‚" },
        { word: "åŠ£", context: "æƒ¡åŠ£", pinyin: "liÃ¨", options: ["lÃ¼Ã¨", "lÃ¨", "liÄ›"], note: "è®€ liÃ¨ã€‚" },
        { word: "æ ", context: "æ å¥ª", pinyin: "lÃ¼Ã¨", options: ["luÃ¨", "liÃ¨", "lue"], note: "è®€ lÃ¼Ã¨ã€‚" },
        { word: "ç•¥", context: "çœç•¥", pinyin: "lÃ¼Ã¨", options: ["luÃ¨", "liÃ¨", "lÃ¼Ä›"], note: "è®€ lÃ¼Ã¨ã€‚" },
        { word: "ç¿", context: "è€ç¿", pinyin: "wÄ“ng", options: ["wÅng", "yÅng", "wÃ¨ng"], note: "è®€ wÄ“ngã€‚å‹¿è®€ wÅngã€‚" },
        { word: "å®", context: "å®å‰", pinyin: "hÃ³ng", options: ["huÃ¡ng", "fÃ³ng", "hÅng"], note: "è²æ¯ hã€‚" },
        { word: "äº’", context: "äº’ç›¸", pinyin: "hÃ¹", options: ["fÃ¹", "wÃ¹", "kÃ¹"], note: "è²æ¯ hã€‚å‹¿è®€ fã€‚" },
        { word: "æ‡·", context: "æ‡·å¿µ", pinyin: "huÃ¡i", options: ["wÃ¡i", "fÃ¡i", "huÃ i"], note: "è²æ¯ hã€‚" },
        { word: "æ­¡", context: "æ­¡è¿", pinyin: "huÄn", options: ["fÅ«n", "wÄn", "guÄn"], note: "è²æ¯ hã€‚å‹¿è®€ fÅ«nã€‚" },
        { word: "ç°", context: "ç°å¡µ", pinyin: "huÄ«", options: ["fuÄ«", "fÄ“i", "huÃ­"], note: "è²æ¯ hã€‚å‹¿è®€ fã€‚" },
        { word: "å©š", context: "çµå©š", pinyin: "hÅ«n", options: ["fÅ«n", "wÅ«n", "hÃ¹n"], note: "è²æ¯ hã€‚" },
        { word: "é—Š", context: "å»£é—Š", pinyin: "kuÃ²", options: ["fuÃ²", "kuÃ³", "huÃ²"], note: "è²æ¯ kã€‚å‹¿è®€ fã€‚" },
        { word: "å¿«", context: "å¿«æ¨‚", pinyin: "kuÃ i", options: ["fÃ i", "kÃ i", "kuÇi"], note: "è²æ¯ kã€‚å‹¿è®€ fã€‚" },
        { word: "æ¬¾", context: "ä»˜æ¬¾", pinyin: "kuÇn", options: ["fÇ”n", "kÇn", "kuÃ n"], note: "è²æ¯ kã€‚å‹¿è®€ fã€‚" },
        { word: "æ³", context: "æƒ…æ³", pinyin: "kuÃ ng", options: ["fÃ ng", "huÃ ng", "kÃ ng"], note: "è²æ¯ kã€‚" },
        { word: "å‡", context: "å‡å›º", pinyin: "nÃ­ng", options: ["yÃ­ng", "nÄ«ng", "nÃ­n"], note: "é¼»éŸ³ nã€‚" },
        { word: "æ‚¨", context: "æ‚¨å¥½", pinyin: "nÃ­n", options: ["yÃ­n", "lÃ­n", "nÃ­ng"], note: "é¼»éŸ³ nã€‚" },
        { word: "ç‰›", context: "ç‰›å¥¶", pinyin: "niÃº", options: ["liÃº", "yÃº", "niÅ«"], note: "é¼»éŸ³ nã€‚" },
        { word: "å¥³", context: "å¥³å…’", pinyin: "nÇš", options: ["lÇš", "yÇ”", "nÇ”"], note: "é¼»éŸ³ nã€‚" },
        { word: "æŒª", context: "æŒªç”¨", pinyin: "nuÃ³", options: ["luÃ³", "nÃ³", "nuÃ²"], note: "é¼»éŸ³ nã€‚" }
    ];

    // ==========================================
    // 2. è‡ªå‹•å»é‡é‚è¼¯
    // ==========================================
    const uniqueBank = [];
    const seenKeys = new Set();
    fullQuestionBank.forEach(item => {
        const key = item.word + "_" + item.context; // çµ„åˆ "å­—_è©" ä½œç‚ºå”¯ä¸€æ¨™è­˜
        if (!seenKeys.has(key)) {
            seenKeys.add(key);
            uniqueBank.push(item);
        }
    });
    fullQuestionBank = uniqueBank; // è¦†è“‹ç‚ºå»é‡å¾Œçš„åˆ—è¡¨

    // ==========================================
    // 3. å…¨å±€è®Šé‡
    // ==========================================
    let currentUser = "";
    let currentQuestions = [];
    let currentIndex = 0;
    let score = 0;
    let canAnswer = true;
    let sessionMistakes = [];
    
    // é›²ç«¯æ•¸æ“šç·©å­˜
    let cloudMistakes = [];
    let cloudMastered = [];

    // ==========================================
    // 4. ç³»çµ±åŠŸèƒ½ (ç™»éŒ„/åŒæ­¥)
    // ==========================================
    function handleLogin() {
        const user = document.getElementById('username').value.trim();
        const pass = document.getElementById('password').value.trim();
        const btn = document.getElementById('login-btn');
        const msg = document.getElementById('login-msg');

        if(!user || !pass) { msg.textContent = "è«‹è¼¸å…¥å®Œæ•´å¸³è™Ÿå¯†ç¢¼"; return; }
        btn.disabled = true; btn.innerHTML = `<span class="spinner"></span> é©—è­‰ä¸­...`;

        fetch(API_URL, {
            method: 'POST', mode: 'no-cors',
            body: JSON.stringify({ action: "login", username: user, password: pass })
        }).then(() => {
            currentUser = user;
            msg.textContent = "ç™»éŒ„æˆåŠŸï¼Œæ­£åœ¨åŒæ­¥é›²ç«¯è¨˜æ†¶...";
            fetchCloudProfile();
        }).catch(err => {
            console.error(err);
            msg.textContent = "é€£æ¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²çµ¡æˆ–ç¶²å€æ˜¯å¦æ­£ç¢º"; 
            btn.disabled = false; btn.textContent = "ç™»éŒ„ç³»çµ±";
        });
    }

    function fetchCloudProfile() {
        fetch(API_URL, {
            method: 'POST',
            body: JSON.stringify({ action: "get_profile", username: currentUser })
        })
        .then(response => response.json())
        .then(data => {
            console.log("é›²ç«¯æ•¸æ“š:", data);
            cloudMistakes = data.mistakes || [];
            cloudMastered = data.mastered || [];
            
            document.getElementById('login-overlay').style.display = 'none';
            document.getElementById('game-container').style.display = 'block';
            document.getElementById('display-user').textContent = currentUser;
            initGame();
        })
        .catch(err => {
            console.error("åŒæ­¥å¤±æ•—", err);
            document.getElementById('login-overlay').style.display = 'none';
            document.getElementById('game-container').style.display = 'block';
            document.getElementById('display-user').textContent = currentUser;
            initGame();
        });
    }

    function uploadRecord(question, userChoice, isCorrect) {
        document.getElementById('sync-status').innerHTML = '<span class="spinner"></span>';
        fetch(API_URL, {
            method: 'POST', mode: 'no-cors', headers: { 'Content-Type': 'text/plain' },
            body: JSON.stringify({
                action: "save_record", username: currentUser,
                word: question.word, context: question.context,
                userChoice: userChoice, correctPinyin: question.pinyin,
                isCorrect: isCorrect
            })
        }).then(() => {
            document.getElementById('sync-status').innerHTML = "âœ…";
            setTimeout(() => { document.getElementById('sync-status').innerHTML = ""; }, 2000);
        });
    }

    // ==========================================
    // 5. éŠæˆ²æ ¸å¿ƒé‚è¼¯
    // ==========================================
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function selectQuestions() {
        let errorPool = [], newPool = [], masteredPool = [];

        fullQuestionBank.forEach(item => {
            const key = item.word + "_" + item.context;
            const isMastered = cloudMastered.includes(key);
            const isMistake = cloudMistakes.includes(key);

            if (isMistake && !isMastered) {
                errorPool.push(item);
            } else if (isMastered) {
                masteredPool.push(item);
            } else {
                newPool.push(item);
            }
        });

        // å„ªå…ˆé †åºï¼šéŒ¯é¡Œ > æ–°é¡Œ > å·²ç²¾é€š
        let selected = [];
        shuffleArray(errorPool); 
        selected = selected.concat(errorPool.slice(0, 10)); 
        
        if (selected.length < 20) { 
            shuffleArray(newPool); 
            selected = selected.concat(newPool.slice(0, 20 - selected.length)); 
        }
        
        if (selected.length < 20) { 
            shuffleArray(masteredPool); 
            selected = selected.concat(masteredPool.slice(0, 20 - selected.length)); 
        }
        
        return shuffleArray(selected.slice(0, 20));
    }

    function initGame() {
        currentIndex = 0; score = 0; sessionMistakes = [];
        document.getElementById('game-screen').style.display = 'block';
        document.getElementById('result-screen').style.display = 'none';
        
        currentQuestions = selectQuestions();
        if (currentQuestions.length === 0) { alert("é¡Œåº«ç‚ºç©ºæˆ–åŠ è¼‰å¤±æ•—ï¼"); return; }
        renderQuestion();
    }

    function renderQuestion() {
        if (currentIndex >= currentQuestions.length) { endGame(); return; }
        
        const q = currentQuestions[currentIndex];
        document.getElementById('session-progress').style.width = `${(currentIndex / currentQuestions.length) * 100}%`;
        document.getElementById('question-word').innerHTML = q.context.replace(q.word, `<span class="target-char">${q.word}</span>`);
        document.getElementById('feedback-box').innerHTML = '';

        let options = [q.pinyin, ...q.options];
        options = shuffleArray(options);

        const container = document.getElementById('options-container');
        container.innerHTML = '';
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn'; btn.textContent = opt;
            btn.onclick = () => handleAnswer(opt, q, btn);
            container.appendChild(btn);
        });
        canAnswer = true;
    }

    function handleAnswer(selected, question, btn) {
        if (!canAnswer) return; canAnswer = false;
        
        const isCorrect = selected === question.pinyin;
        if (isCorrect) score++;
        
        const key = question.word + "_" + question.context;

        // æœ¬åœ°æ¨¡æ“¬æ›´æ–° (è®“UIçœ‹èµ·ä¾†æ›´å³æ™‚)
        if (isCorrect) {
            const mistIndex = cloudMistakes.indexOf(key);
            if (mistIndex > -1) cloudMistakes.splice(mistIndex, 1);
        } else {
            if (!cloudMistakes.includes(key)) cloudMistakes.push(key);
            sessionMistakes.push({ word: question.word, context: question.context, pinyin: question.pinyin, wrong: selected });
        }

        // ä¸Šå‚³æ•¸æ“š
        uploadRecord(question, selected, isCorrect);

        const allBtns = document.querySelectorAll('.option-btn');
        allBtns.forEach(b => {
            if (b.textContent === question.pinyin) b.classList.add('correct');
            else if (b.textContent === selected && !isCorrect) b.classList.add('wrong');
            b.disabled = true;
        });

        let statusHtml = isCorrect ? 
            `<div style="color:var(--success-color); font-weight:bold; font-size:20px;">âœ… å›ç­”æ­£ç¢ºï¼</div>` : 
            `<div style="color:var(--accent-color); font-weight:bold; font-size:20px;">âŒ éŒ¯èª¤ï¼</div>`;
        
        const isLast = currentIndex === currentQuestions.length - 1;
        const btnText = isLast ? "ğŸ“Š æŸ¥çœ‹æˆç¸¾" : "ğŸ‘‰ ä¸‹ä¸€é¡Œ";

        document.getElementById('feedback-box').innerHTML = `
            <div id="feedback-text">${statusHtml}${question.note ? `<br><span class="feedback-note">ğŸ’¡ ${question.note}</span>` : ''}</div>
            <button onclick="forceNext()">${btnText}</button>
        `;
    }

    function forceNext() { currentIndex++; renderQuestion(); }

    function endGame() {
        document.getElementById('game-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        
        const total = currentQuestions.length;
        document.getElementById('final-score').textContent = Math.round((score/total)*100);

        // æ›´æ–°æŒæ¡åº¦UI
        const pct = Math.round((cloudMastered.length / fullQuestionBank.length) * 100);
        document.getElementById('mastery-percentage').textContent = `${pct}%`;
        document.getElementById('mastery-bar-fill').style.width = `${pct}%`;
        document.getElementById('mastery-count-text').innerHTML = `å·²ç²¾é€š ${cloudMastered.length} å­— / å…± ${fullQuestionBank.length} å­—`;

        // éŒ¯é¡Œå›é¡§
        const container = document.getElementById('review-container');
        container.innerHTML = '';
        if (sessionMistakes.length === 0) container.innerHTML = '<div style="padding:15px; color:#bdc3c7;">ğŸ‰ å¤ªæ£’äº†ï¼æœ¬å±€å…¨å°ï¼</div>';
        else {
            sessionMistakes.forEach(item => {
                const div = document.createElement('div');
                div.className = 'review-item';
                div.innerHTML = `<span style="color:white">${item.context}</span> <span style="color:#7f8c8d; font-size:14px;">(èª¤è®€: <span style="color:var(--accent-color)">${item.wrong}</span> â†’ æ­£éŸ³: <span style="color:var(--success-color)">${item.pinyin}</span>)</span>`;
                container.appendChild(div);
            });
        }
    }

    // ==========================================
    // 6. ç‰¹æ•ˆ (æ˜Ÿç©ºèƒŒæ™¯)
    // ==========================================
    function initStars() {
        const canvas = document.getElementById('star-canvas');
        if(!canvas) return;
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let stars = Array.from({length: 60}, () => ({
            x: Math.random() * canvas.width, y: Math.random() * canvas.height,
            radius: Math.random() * 1.5, alpha: Math.random(), speed: Math.random() * 0.05
        }));
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = "white";
            stars.forEach(star => {
                ctx.globalAlpha = star.alpha; ctx.beginPath(); ctx.arc(star.x, star.y, star.radius, 0, Math.PI*2); ctx.fill();
                star.y -= star.speed; if(star.y < 0) { star.y = canvas.height; star.x = Math.random() * canvas.width; }
            });
            requestAnimationFrame(draw);
        }
        draw();
    }

    window.onload = initStars;
</script>
</body>
</html>

