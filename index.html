<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSC æ˜Ÿç©ºç‰¹è¨“ (æ¸¯å€å°ˆç”¨)</title>
    <style>
        /* ==================== 
           1. è­·çœ¼æ˜Ÿç©ºé…è‰² (Dark Mode)
           ==================== */
        :root {
            --bg-color: #0f1319;       /* æ·±ç©ºè—é»‘ */
            --card-bg: rgba(23, 32, 42, 0.9); /* åŠé€æ˜æ·±è‰²å¡ç‰‡ */
            --text-primary: #ecf0f1;   /* æŸ”å’Œç™½ */
            --text-secondary: #bdc3c7; /* æ·ºç° */
            --accent-color: #e74c3c;   /* éŒ¯èª¤ç´… (æŸ”å’Œç‰ˆ) */
            --success-color: #2ecc71;  /* æ­£ç¢ºç¶  (æŸ”å’Œç‰ˆ) */
            --btn-bg: #34495e;         /* é¸é …æŒ‰éˆ•åº•è‰² */
            --btn-hover: #4ba3c7;      /* æ‡¸åœè‰² */
            --btn-next: #d35400;       /* ä¸‹ä¸€é¡ŒæŒ‰éˆ• (æ©™è‰²) */
        }

        body {
            font-family: "Microsoft YaHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden; /* é˜²æ­¢æ²å‹• */
        }

        /* èƒŒæ™¯æ˜Ÿç©ºç•«å¸ƒ */
        #star-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .container {
            background-color: var(--card-bg);
            backdrop-filter: blur(10px); /* æ¯›ç»ç’ƒç‰¹æ•ˆ */
            border-radius: 16px;
            box-shadow: 0 0 40px rgba(0,0,0,0.5); /* ç™¼å…‰æ„Ÿé™°å½± */
            width: 90%;
            max-width: 600px;
            padding: 40px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
            position: relative;
            z-index: 10;
        }

        /* é€²åº¦æ¢ */
        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: #2c3e50;
            border-radius: 3px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: #f1c40f; /* é‡‘è‰²é€²åº¦ */
            width: 0%;
            transition: width 0.3s ease;
        }

        /* é¡Œç›®å¤§å­— */
        .word-display {
            font-size: 90px;
            font-weight: bold;
            margin: 10px 0 30px 0;
            color: #fff;
            text-shadow: 0 0 20px rgba(255,255,255,0.3);
            letter-spacing: 5px;
        }

        /* é¸é …ç¶²æ ¼ */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        button.option-btn {
            background-color: rgba(255, 255, 255, 0.05);
            border: 2px solid #576574;
            color: var(--text-primary);
            border-radius: 12px;
            padding: 20px;
            font-size: 24px; /* æ‹¼éŸ³å¤§ä¸€é» */
            cursor: pointer;
            transition: all 0.2s;
            font-family: Arial, sans-serif;
        }

        button.option-btn:hover:not(:disabled) {
            border-color: var(--text-primary);
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        /* æ­£ç¢ºéŒ¯èª¤æ¨£å¼ */
        button.option-btn.correct {
            background-color: var(--success-color);
            border-color: var(--success-color);
            color: white;
            box-shadow: 0 0 15px rgba(46, 204, 113, 0.4);
        }

        button.option-btn.wrong {
            background-color: var(--accent-color);
            border-color: var(--accent-color);
            color: white;
            opacity: 0.6;
        }

        /* åé¥‹å€åŸŸ */
        .feedback-area {
            min-height: 80px;
            margin-top: 15px;
            font-size: 18px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .feedback-note {
            color: #81a1c1; /* æŸ”å’Œè— */
            font-size: 16px;
            margin-top: 8px;
            display: block;
            background: rgba(0,0,0,0.3);
            padding: 8px 15px;
            border-radius: 8px;
            line-height: 1.5;
        }

        /* ä¸‹ä¸€é¡ŒæŒ‰éˆ• */
        .btn-next-q {
            background-color: var(--btn-next);
            color: white;
            border: none;
            padding: 12px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 10px;
            display: none; /* é»˜èªéš±è— */
            box-shadow: 0 4px 15px rgba(211, 84, 0, 0.4);
            animation: popIn 0.3s ease;
        }
        
        .btn-next-q:hover {
            background-color: #e67e22;
        }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* çµç®—ç•«é¢ */
        .result-screen {
            display: none;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 6px solid var(--success-color);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 48px;
            font-weight: bold;
            margin: 0 auto 30px;
            color: var(--text-primary);
            box-shadow: 0 0 30px rgba(46, 204, 113, 0.2);
        }

        /* å›é¡§åˆ—è¡¨ */
        .review-list {
            text-align: left;
            max-height: 300px;
            overflow-y: auto;
            margin: 20px 0;
            padding-right: 10px;
            border-top: 1px solid #34495e;
        }

        .review-item {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            font-size: 16px;
        }

        /* æ²è»¸ç¾åŒ– */
        .review-list::-webkit-scrollbar { width: 6px; }
        .review-list::-webkit-scrollbar-thumb { background: #576574; border-radius: 3px; }

        .btn-restart {
            background-color: #2980b9;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
        }

    </style>
</head>
<body>

<canvas id="star-canvas"></canvas>

<div class="container">
    <div id="game-screen">
        <div style="font-size: 14px; color: #7f8c8d; margin-bottom: 10px;">PSC é›£å­—ç‰¹è¨“ | 20 é¡Œ</div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>

        <div class="word-display" id="question-word">è¼‰å…¥ä¸­</div>

        <div class="options-grid" id="options-container">
            </div>

        <div class="feedback-area" id="feedback-box">
            <div id="feedback-text"></div>
            <button class="btn-next-q" id="next-btn" onclick="nextQuestion()">ğŸ‘‰ ä¸‹ä¸€é¡Œ</button>
        </div>
    </div>

    <div id="result-screen" class="result-screen">
        <h1 style="color:#fff;">ç‰¹è¨“çµæŸ</h1>
        <div class="score-circle" id="final-score">0</div>
        <p id="eval-text" style="color:#bdc3c7; margin-bottom: 20px;">...</p>
        
        <div style="text-align:left; color:#f1c40f; font-size:14px;">ğŸ“ é‡é»å›é¡§ï¼š</div>
        <div class="review-list" id="review-container">
            </div>

        <button class="btn-restart" onclick="initGame()">å†ä¾†ä¸€å±€ ğŸ”„</button>
    </div>
</div>

<script>
    // ==========================================
// ==========================================
    // 1. é¡Œåº« (ç”± 20 é¡Œæ“´å……è‡³ 120 é¡Œ)
    // ==========================================
    const fullQuestionBank = [
        // --- è²æ¯/éŸ»æ¯æ˜“éŒ¯ (n/l, h/f, j/q/x) ---
        { word: "é…—", pinyin: "xÃ¹", options: ["xiÅng", "xÄ«", "chÃ¨"], note: "å‹¿è®€ 'å‡¶'ï¼Œå¸¸è©ï¼šé…—é…’ã€‚" },
        { word: "è©£", pinyin: "yÃ¬", options: ["zhÇ", "yÃ­", "jÃ¬"], note: "å‹¿è®€ 'æ—¨'ï¼Œå¸¸è©ï¼šé€ è©£ã€‚" },
        { word: "æ„", pinyin: "bÃ¬", options: ["fÃ¹", "bÃ¨i", "pÃ¬"], note: "å‹¿è®€ 'å¾©'ï¼Œå¸¸è©ï¼šå‰›æ„è‡ªç”¨ã€‚" },
        { word: "æº¯", pinyin: "sÃ¹", options: ["shuÃ²", "suÃ²", "sÅ«"], note: "å‹¿è®€ 'æœ”'ï¼Œå¸¸è©ï¼šè¿½æº¯ã€‚" },
        { word: "æ®«", pinyin: "dÄn", options: ["tÃ¡n", "chÃ n", "dÃ n"], note: "å‹¿è®€ 'å½ˆ'ï¼Œå¸¸è©ï¼šæ®«ç²¾ç«­æ…®ã€‚" },
        { word: "ç´•", pinyin: "pÄ«", options: ["bÇ", "pÃ­", "bÃ¬"], note: "å‹¿è®€ 'æ¯”'ï¼Œå¸¸è©ï¼šç´•æ¼ã€‚" },
        { word: "å‰½", pinyin: "piÄo", options: ["piÃ o", "biÄo", "piao"], note: "ä¸€è²ï¼å‹¿è®€å››è²ï¼Œå¸¸è©ï¼šå‰½ç«Šã€‚" },
        { word: "è¬", pinyin: "yÃ¨", options: ["jiÃ©", "yÃ¬", "hÃ¨"], note: "å‹¿è®€ 'å‚‘'ï¼Œå¸¸è©ï¼šæ‹œè¬ã€‚" },
        { word: "èº‹", pinyin: "jÄ«", options: ["jÇ", "qÃ­", "jÃ¬"], note: "ä¸€è²ï¼å‹¿è®€ä¸‰è²æˆ– 'é½Š'ï¼Œå¸¸è©ï¼šèº‹èº«ã€‚" },
        { word: "ç•¸", pinyin: "jÄ«", options: ["qÃ­", "yÇ", "kÄ“"], note: "å‹¿è®€ 'å¥‡'ï¼Œå¸¸è©ï¼šç•¸å½¢ã€‚" },
        { word: "æµ¸", pinyin: "jÃ¬n", options: ["qÄ«n", "jÄ«n", "qÃ¬n"], note: "å‹¿è®€ 'ä¾µ'ï¼Œå¸¸è©ï¼šæ²‰æµ¸ã€‚" },
        { word: "å“º", pinyin: "bÇ”", options: ["pÇ”", "fÇ”", "bÃ¹"], note: "å‹¿è®€ 'æ™®'ï¼Œå¸¸è©ï¼šå“ºä¹³ã€‚" },
        { word: "ç³™", pinyin: "cÄo", options: ["zÃ o", "cÃ o", "zhÃ o"], note: "å‹¿è®€ 'é€ 'ï¼Œå¸¸è©ï¼šç²—ç³™ã€‚" },
        { word: "ç–µ", pinyin: "cÄ«", options: ["chÄ«", "cÃ¬", "bÃ¬"], note: "å‹¿è®€ 'åƒ'ï¼Œå¸¸è©ï¼šç‘•ç–µã€‚" },
        { word: "æŒ«", pinyin: "cuÃ²", options: ["cuÅ", "zuÃ²", "cÃ¹"], note: "å››è²ï¼å‹¿è®€ä¸€è²ï¼Œå¸¸è©ï¼šæŒ«æŠ˜ã€‚" },
        { word: "æ‚¼", pinyin: "dÃ o", options: ["diÃ o", "dÇo", "zhuÃ³"], note: "å‹¿è®€ 'æ‰'ï¼Œå¸¸è©ï¼šè¿½æ‚¼ã€‚" },
        { word: "å ¤", pinyin: "dÄ«", options: ["tÃ­", "dÃ¬", "tÄ«"], note: "å‹¿è®€ 'æ'ï¼Œå¸¸è©ï¼šå ¤å£©ã€‚" },
        { word: "ç·", pinyin: "diÃ n", options: ["zhÄn", "diÇn", "tiÄ“"], note: "å‹¿è®€ 'æ²¾'ï¼Œå¸¸è©ï¼šç·æ±¡ã€‚" },
        { word: "æ‰‰", pinyin: "fÄ“i", options: ["fÄ›i", "pÃ¡i", "fÃ¨i"], note: "ä¸€è²ï¼å‹¿è®€ä¸‰è²ï¼Œå¸¸è©ï¼šå¿ƒæ‰‰ã€‚" },
        { word: "å¦", pinyin: "pÇ", options: ["fÇ’u", "bÃ¬", "pÄ«"], note: "å¤šéŸ³å­—ï¼šå¦(pÇ)æ¥µæ³°ä¾†ã€‚" },
        { word: "è›¤", pinyin: "gÃ©", options: ["hÃ¡", "gÄ›", "jiÃ¡"], note: "è›¤(gÃ©)èœŠï¼Œè›¤(hÃ¡)èŸ†ã€‚" },
        { word: "äº™", pinyin: "gÃ¨n", options: ["hÃ©ng", "gÃ¨ng", "huÃ¡n"], note: "å‹¿è®€ 'æ†'ï¼Œå¸¸è©ï¼šäº™å¤ã€‚" },
        { word: "è‚±", pinyin: "gÅng", options: ["hÃ³ng", "gÃ³ng", "qiÃ¡ng"], note: "å‹¿è®€ 'å®'ï¼Œå¸¸è©ï¼šè‚¡è‚±ã€‚" },
        { word: "æªœ", pinyin: "guÃ¬", options: ["huÃ¬", "kuÃ i", "huÃ i"], note: "ç§¦æªœ(huÃ¬)ï¼Œå¸‚æªœ(kuÃ i)å·²è¢«å»¢é™¤ã€‚" },
        { word: "æ¶¸", pinyin: "hÃ©", options: ["gÃ¹", "hÃ¨", "kÅ«"], note: "å‹¿è®€ 'å›º'ï¼Œå¸¸è©ï¼šä¹¾æ¶¸ã€‚" },
        { word: "é…µ", pinyin: "jiÃ o", options: ["xiÃ o", "xiÄo", "jiÄo"], note: "å¿…è€ƒï¼å‹¿è®€ 'å­'ï¼Œå¸¸è©ï¼šç™¼é…µã€‚" },
        { word: "è§’", pinyin: "juÃ©", options: ["jiÇo", "jÃº", "jiÃ "], note: "è§’(juÃ©)è‰²ï¼Œå‹¿è®€ jiÇoã€‚" },
        { word: "å€”", pinyin: "juÃ©", options: ["juÃ¨", "qÅ«", "juÄ›"], note: "å€”(juÃ©)å¼·ã€‚" },
        { word: "æ¡†", pinyin: "kuÃ ng", options: ["kuÄng", "guÄng", "kÄng"], note: "å››è²ï¼å‹¿è®€ä¸€è²ã€‚" },
        { word: "å’¯", pinyin: "kÇ", options: ["luÃ²", "gÄ“", "lo"], note: "å’¯(kÇ)è¡€ï¼Œå‹¿è®€ luÃ²ã€‚" },
        { word: "æ„", pinyin: "lÅ«n", options: ["lÃºn", "lÃ¹n", "qiÇng"], note: "ä¸€è²ï¼å¸¸è©ï¼šæ„æ‹³é ­ã€‚" },
        { word: "çµ¡", pinyin: "luÃ²", options: ["lÃ o", "gÃ¨", "lÃ¨"], note: "çµ¡(luÃ²)ç¹¹ä¸çµ•ï¼Œå¤§å¤§å’§å’§(liÄ“)ã€‚" },
        { word: "æ‹ˆ", pinyin: "niÄn", options: ["zhÄn", "niÇn", "diÄn"], note: "å‹¿è®€ 'æ²¾'ï¼Œå¸¸è©ï¼šæ‹ˆè¼•æ€•é‡ã€‚" },
        { word: "è†¿", pinyin: "nÃ³ng", options: ["nÅng", "lÃ³ng", "nÃ¹ng"], note: "äºŒè²ï¼å‹¿è®€ä¸€è²ã€‚" },
        { word: "ç™–", pinyin: "pÇ", options: ["pÃ¬", "bÃ¬", "pÃ­"], note: "ä¸‰è²ï¼å‹¿è®€ 'åƒ»'ï¼Œå¸¸è©ï¼šæ½”ç™–ã€‚" },
        { word: "ä¼", pinyin: "qÇ", options: ["qÃ¬", "qÃ­", "jÃ¬"], note: "ä¸‰è²ï¼å»£æ±äººå¸¸èª¤è®€å››è²ã€‚" },
        { word: "æ½›", pinyin: "qiÃ¡n", options: ["qiÇn", "jiÄn", "zÃ n"], note: "äºŒè²ï¼å‹¿è®€ä¸‰è²ï¼Œå¸¸è©ï¼šæ½›æ°´ã€‚" },
        { word: "æ€¯", pinyin: "qiÃ¨", options: ["quÃ¨", "qÃ¹", "xiÃ¨"], note: "å‹¿è®€ 'å»'ï¼Œå¸¸è©ï¼šè†½æ€¯ã€‚" },
        { word: "å†—", pinyin: "rÇ’ng", options: ["yÇ’ng", "rÃ²ng", "kÃ ng"], note: "å‹¿è®€ 'æ°¸'ï¼Œå¸¸è©ï¼šå†—é•·ã€‚" },
        { word: "èœƒ", pinyin: "shÃ¨n", options: ["chÃºn", "shÃ©n", "zhÃ¨n"], note: "å‹¿è®€ 'å”‡'ï¼Œå¸¸è©ï¼šæµ·å¸‚èœƒæ¨“ã€‚" },
        { word: "ç‹©", pinyin: "shÃ²u", options: ["shÇ’u", "shÃº", "juÃ©"], note: "å‹¿è®€ 'å®ˆ'ï¼Œå¸¸è©ï¼šç‹©çµã€‚" },
        { word: "éŸœ", pinyin: "tÄo", options: ["tÃ o", "dÃ o", "yÃ¡o"], note: "ä¸€è²ï¼å‹¿è®€å››è²ï¼Œå¸¸è©ï¼šéŸœå…‰é¤Šæ™¦ã€‚" },
        { word: "æ®„", pinyin: "tiÇn", options: ["zhÄ“n", "tiÄn", "cÇn"], note: "å‹¿è®€ 'ç'ï¼Œå¸¸è©ï¼šæš´æ®„å¤©ç‰©ã€‚" },
        { word: "è‡€", pinyin: "tÃºn", options: ["diÃ n", "tÅ«n", "yÃ¬"], note: "å‹¿è®€ 'æ®¿'ï¼Œå¸¸è©ï¼šè‡€éƒ¨ã€‚" },
        { word: "éŸ‹", pinyin: "wÃ©i", options: ["wÄ›i", "huÃ¬", "wÄ“i"], note: "äºŒè²ï¼å‹¿è®€ä¸‰è²ï¼Œå§“æ°ã€‚" },
        { word: "è†", pinyin: "xÄ«", options: ["qÄ«", "xÃ­", "yÃ¬"], note: "å‹¿è®€ 'ä¸ƒ'ï¼Œå¸¸è©ï¼šè†è“‹ã€‚" },
        { word: "æª„", pinyin: "xÃ­", options: ["jiÇo", "jÄ«", "Ã o"], note: "å‹¿è®€ 'ç¹³'ï¼Œå¸¸è©ï¼šæª„æ–‡ã€‚" },
        { word: "å¼¦", pinyin: "xiÃ¡n", options: ["xuÃ¡n", "xiÃ n", "rÃ¡n"], note: "å‹¿è®€ 'ç„'ï¼Œå¸¸è©ï¼šç´å¼¦ã€‚" },
        { word: "æ¶", pinyin: "xiÃ¡n", options: ["yÃ¡n", "xiÃ n", "dÃ n"], note: "å‹¿è®€ 'å»¶'ï¼Œå¸¸è©ï¼šå‚æ¶ä¸‰å°ºã€‚" },
        { word: "ç©´", pinyin: "xuÃ©", options: ["xuÃ¨", "xuÄ›", "kÅng"], note: "äºŒè²ï¼å‹¿è®€å››è²ã€‚" },
        { word: "äº", pinyin: "yÃ ", options: ["yÇ", "Ã ", "yÄ"], note: "å››è²ï¼å»£æ±äººå¸¸èª¤è®€ä¸‰è²ï¼Œäºæ´²ã€‚" },
        { word: "å‹", pinyin: "yÇ’u", options: ["yÃ³u", "yÃ²u", "liÇ”"], note: "ä¸‰è²ï¼æ³¨æ„ä¸Šä¸Šç›¸é€£è®Šèª¿è¦å‰‡ã€‚" },
        { word: "å’±", pinyin: "zÃ¡n", options: ["zÃ¡", "zÄ", "zhÃ¡n"], note: "äºŒè²ï¼å’±å€‘ã€‚" },
        { word: "ç¶»", pinyin: "zhÃ n", options: ["dÃ¬ng", "dian", "zhÄn"], note: "å‹¿è®€ 'å®š'ï¼Œå¸¸è©ï¼šç ´ç¶»ã€‚" },
        { word: "è„‚", pinyin: "zhÄ«", options: ["zhÇ", "zÄ«", "zhÃ¬"], note: "ä¸€è²ï¼å‹¿è®€ä¸‰è²ï¼Œå¸¸è©ï¼šè„‚è‚ªã€‚" },
        { word: "æ“²", pinyin: "zhÃ¬", options: ["zhÃ¨ng", "zhÄ«", "tÃ­"], note: "å‹¿è®€ 'é„­'ï¼Œå¸¸è©ï¼šæ“²åœ°æœ‰è²ã€‚" },
        { word: "è²¯", pinyin: "zhÃ¹", options: ["chÇ”", "zhÇ”", "nÃ­ng"], note: "å››è²ï¼å‹¿è®€ä¸‰è²ï¼Œå¸¸è©ï¼šè²¯å­˜ã€‚" },
        { word: "å“", pinyin: "zhuÃ³", options: ["zhuÅ", "zhÃ o", "chuo"], note: "äºŒè²ï¼å‹¿è®€ä¸€è²ï¼Œå¸¸è©ï¼šå“è¶Šã€‚" },
        { word: "ç¶œ", pinyin: "zÅng", options: ["zÃ²ng", "cÅng", "zhÅng"], note: "ä¸€è²ï¼å‹¿è®€å››è²ï¼Œå¸¸è©ï¼šç¶œåˆã€‚" },
        
        // --- æ“´å……éƒ¨åˆ†ï¼šæ¸¯äººç‰¹è¨“ ---
        { word: "æª”", pinyin: "dÃ ng", options: ["dÇng", "dÄng", "tÃ³ng"], note: "å››è²ï¼æª”æ¡ˆ(dÃ ng Ã n)ï¼Œå‹¿è®€ dÇngã€‚" },
        { word: "é¥", pinyin: "qiÃ¨", options: ["qÃ¬", "xiÃ¨", "kÃ¨"], note: "å‹¿è®€ 'æ°£'ï¼Œå¸¸è©ï¼šé¥è€Œä¸æ¨ã€‚" },
        { word: "æ„", pinyin: "bÃ¬", options: ["fÃ¹", "bÃ¨i", "pÃ¬"], note: "å››è²ï¼å‰›æ„(bÃ¬)è‡ªç”¨ã€‚" },
        { word: "è‘©", pinyin: "pÄ", options: ["bÄ", "pÃ¡", "pÃ "], note: "ä¸€è²ï¼å¸¸è©ï¼šå¥‡è‘©ã€‚" },
        { word: "æ•", pinyin: "bÇ”", options: ["pÇ”", "fÇ”", "bÃ¹"], note: "è²æ¯æ˜¯ bï¼é€®æ•ã€æ•æ‰ã€‚" },
        { word: "é«“", pinyin: "suÇ", options: ["suÃ­", "suÃ¬", "shuÇ"], note: "ä¸‰è²ï¼éª¨é«“ï¼Œå‹¿è®€ suÃ­ã€‚" },
        { word: "è³ª", pinyin: "zhÃ¬", options: ["zhÇ", "zÄ«", "jÃ­"], note: "ç¿¹èˆŒéŸ³ zhï¼è³ªé‡ï¼Œå‹¿è®€ zÄ« æˆ– jÃ­ã€‚" },
        { word: "æš«", pinyin: "zÃ n", options: ["zhÃ n", "zÃ¡n", "chÃ n"], note: "å››è²å¹³èˆŒï¼æš«æ™‚ï¼Œå‹¿è®€ zhÃ nã€‚" },
        { word: "æ‡²", pinyin: "chÃ©ng", options: ["chÄ›ng", "zhÄ›ng", "chÃ¨ng"], note: "äºŒè²ï¼æ‡²ç½°ï¼Œå‹¿è®€ä¸‰è²ã€‚" },
        { word: "æ°›", pinyin: "fÄ“n", options: ["fÃ¨n", "fÄ“ng", "pÄ“n"], note: "ä¸€è²ï¼æ°£æ°›ï¼Œå‹¿è®€ fÃ¨nã€‚" },
        { word: "å«‰", pinyin: "jÃ­", options: ["jÃ¬", "hÃ³u", "qÃ¬"], note: "äºŒè²ï¼å«‰å¦’ï¼Œå‹¿è®€ jÃ¬ã€‚" },
        { word: "æ£˜", pinyin: "jÃ­", options: ["lÃ ", "cÃ¬", "shÃ¹"], note: "äºŒè²ï¼æ£˜æ‰‹ï¼Œå‹¿è®€ 'è¾£'ã€‚" },
        { word: "ç³¾", pinyin: "jiÅ«", options: ["jiÇo", "jiÃ¹", "gÅu"], note: "å‹¿è®€ jiÇoï¼å¸¸è©ï¼šç³¾æ­£ã€‚" },
        { word: "æ®²", pinyin: "jiÄn", options: ["qiÄn", "xiÄn", "liÃ n"], note: "å‹¿è®€ 'åƒ'ï¼Œå¸¸è©ï¼šæ®²æ»…ã€‚" },
        { word: "é…µ", pinyin: "jiÃ o", options: ["xiÃ o", "xiÄo", "gÄo"], note: "å¿…è€ƒï¼ç™¼é…µï¼Œå‹¿è®€ 'å­'ã€‚" },
        { word: "çŸ©", pinyin: "jÇ”", options: ["jÃ¹", "qÅ«", "kÃ¨"], note: "ä¸‰è²ï¼è¦çŸ©ï¼Œå‹¿è®€ 'å·¨'ã€‚" },
        { word: "èŒ", pinyin: "jÅ«n", options: ["jÃ¹n", "qÅ«n", "yÃºn"], note: "ä¸€è²ï¼ç´°èŒï¼Œ(jÃ¹nç”¨æ–¼èŒå­-è˜‘è‡)ã€‚" },
        { word: "é—", pinyin: "kÃ n", options: ["hÇn", "gÇn", "xiÃ n"], note: "å››è²ï¼å§“æ°ï¼šé—ã€‚" },
        { word: "æª", pinyin: "kÃ¨", options: ["gÃ¨", "quÃ¨", "kÃ "], note: "å‹¿è®€ 'å„'ï¼Œå¸¸è©ï¼šæªå®ˆã€‚" },
        { word: "æ¡†", pinyin: "kuÃ ng", options: ["kuÄng", "kÄng", "guÄng"], note: "å››è²ï¼é–€æ¡†ã€‚" },
        { word: "æ³", pinyin: "kuÃ ng", options: ["guÃ ng", "huÃ ng", "kÃ ng"], note: "è²æ¯ kï¼æ³ä¸”ã€‚" },
        { word: "æ‹‰", pinyin: "lÄ", options: ["lÃ¡", "lÇ", "lÃ¨"], note: "æ‹‰(lÄ)åœ¾(jÄ«)ï¼å°ç£è®€ lÃ¨ sÃ¨ï¼Œå¤§é™¸è®€ lÄ jÄ«ã€‚" },
        { word: "æ ", pinyin: "lÃ¼Ã¨", options: ["luÃ¨", "liÃ¨", "lue"], note: "æœ‰å…©é»ï¼æ å¥ªã€‚" },
        { word: "æ”£", pinyin: "luÃ¡n", options: ["liÃ n", "luÃ n", "wÄn"], note: "ç—™æ”£ï¼Œå‹¿è®€ 'æˆ€'ã€‚" },
        { word: "æ„", pinyin: "lÅ«n", options: ["lÃºn", "lÃ¹n", "qiÇng"], note: "ä¸€è²ï¼æ„èµ·ã€‚" },
        { word: "åŸ‹", pinyin: "mÃ¡n", options: ["mÃ¡i", "lÃ­", "Ã¡i"], note: "åŸ‹(mÃ¡n)æ€¨ï¼ŒåŸ‹(mÃ¡i)è‘¬ã€‚å¤šéŸ³å­—ã€‚" },
        { word: "ç§˜", pinyin: "bÃ¬", options: ["mÃ¬", "bÃ¨i", "pÃ¬"], note: "ç§˜(bÃ¬)é­¯ï¼Œç§˜å¯†(mÃ¬)ã€‚" },
        { word: "å¨©", pinyin: "miÇn", options: ["wÇn", "miÃ n", "mÃ n"], note: "åˆ†å¨©ï¼Œå‹¿è®€ 'æ™š'ã€‚" },
        { word: "è¬¬", pinyin: "miÃ¹", options: ["miÃ o", "liÃ¹", "mÃ³u"], note: "è’è¬¬ï¼Œå‹¿è®€ 'å¦™'ã€‚" },
        { word: "è†œ", pinyin: "mÃ³", options: ["mÃ©", "mÃ²", "mÃº"], note: "è–„è†œï¼ŒäºŒè²ã€‚" },
        { word: "è¬€", pinyin: "mÃ³u", options: ["mÇ’u", "mÃ©i", "mÃ²"], note: "è¬€æ±‚ï¼Œå‹¿è®€ 'æŸ'ã€‚" },
        { word: "é›£", pinyin: "nÃ n", options: ["nÃ¡n", "nuÃ²", "luÃ n"], note: "ç½é›£(nÃ n)ï¼Œå›°é›£(nÃ¡n)ã€‚" },
        { word: "æ¿˜", pinyin: "nÃ¬ng", options: ["nÃ­ng", "nÄ«ng", "lÃ¬ng"], note: "æ³¥æ¿˜ï¼Œå››è²ã€‚" },
        { word: "ç˜§", pinyin: "nÃ¼Ã¨", options: ["yÃ o", "niÃ¨", "xuÃ¨"], note: "ç˜§ç–¾ï¼Œå‹¿è®€ yÃ oã€‚" },
        { word: "è‘©", pinyin: "pÄ", options: ["bÄ", "pÃ¡", "pÃ "], note: "å¥‡è‘©ï¼Œä¸€è²ã€‚" },
        { word: "èƒ–", pinyin: "pÃ¡n", options: ["pÃ ng", "bÃ n", "piÃ n"], note: "å¿ƒå¯¬é«”èƒ–(pÃ¡n)ï¼Œè‚¥èƒ–(pÃ ng)ã€‚" },
        { word: "ç‚®", pinyin: "pÃ¡o", options: ["pÃ o", "bÄo", "pÄo"], note: "ç‚®(pÃ¡o)è£½ï¼Œå¤§ç‚®(pÃ o)ã€‚" },
        { word: "èƒš", pinyin: "pÄ“i", options: ["pÄ«", "pÃ©i", "bÄ“i"], note: "èƒšèƒï¼Œä¸€è²ï¼Œå‹¿è®€ pÄ«ã€‚" },
        { word: "åŒ¹", pinyin: "pÇ", options: ["pÄ«", "bÇ", "yÃ "], note: "åŒ¹é…ï¼Œä¸‰è²ã€‚" },
        { word: "æ‰", pinyin: "piÄn", options: ["biÇn", "piÃ n", "biÄn"], note: "ä¸€è‘‰æ‰(piÄn)èˆŸï¼Œæ‰(biÇn)å¹³ã€‚" },
        { word: "ç¸¹", pinyin: "piÇo", options: ["piÄo", "piÃ o", "biÄo"], note: "ç¸¹ç·²ï¼Œä¸‰è²ã€‚" },
        { word: "ç¥", pinyin: "piÄ“", options: ["piÄ›", "biÄ“", "piÃ©"], note: "ç¥è¦‹ï¼Œä¸€è²ã€‚" },
        { word: "æ³Š", pinyin: "pÅ", options: ["bÃ³", "pÃ²", "bÃ¡i"], note: "æ¹–æ³Š(pÅ)ï¼Œåœæ³Š(bÃ³)ã€‚" },
        { word: "æœ´", pinyin: "piÃ¡o", options: ["pÇ”", "pÃ²", "bÇ”"], note: "å§“æ°ï¼šæœ´(piÃ¡o)ï¼Œæ¨¸ç´ (pÇ”)ã€‚" },
        { word: "æ›", pinyin: "pÃ¹", options: ["bÃ o", "pÃ²", "bÃº"], note: "ä¸€æ›åå¯’ï¼Œå‹¿è®€ bÃ oã€‚" },
        { word: "æ£²", pinyin: "qÄ«", options: ["xÄ«", "qÃ¬", "jÄ«"], note: "å…©æ£²ï¼Œå‹¿è®€ xÄ«ã€‚" },
        { word: "è¹Š", pinyin: "qÄ«", options: ["xÄ«", "qÃ¬", "jÄ«"], note: "è¹Šè¹ºï¼Œå‹¿è®€ xÄ«ã€‚" },
        { word: "ç¨½", pinyin: "qÇ", options: ["jÄ«", "jiÄ“", "kÃ¨"], note: "ç¨½(qÇ)é¦–ï¼Œæ»‘ç¨½(jÄ«)ã€‚" },
        { word: "è•", pinyin: "qiÃ¡n", options: ["xÃºn", "tÃ¡n", "yÃºn"], note: "è•(qiÃ¡n)éº»ç–¹ï¼Œå‹¿è®€ xÃºnã€‚" },
        { word: "å¼·", pinyin: "qiÇng", options: ["qiÃ¡ng", "jiÃ ng", "gÄng"], note: "å¼·(qiÇng)è¿«ï¼Œå …å¼·(qiÃ¡ng)ã€‚" },
        { word: "ç¿¹", pinyin: "qiÃ¡o", options: ["qiÃ o", "yÃ¡o", "jiÃ o"], note: "ç¿¹(qiÃ¡o)é¦–ï¼Œç¿¹(qiÃ o)å°¾å·´ã€‚" },
        { word: "æ€¯", pinyin: "qiÃ¨", options: ["quÃ¨", "qÃ¹", "xiÃ¨"], note: "è†½æ€¯ï¼Œå‹¿è®€ 'å»'ã€‚" },
        { word: "æŒˆ", pinyin: "qiÃ¨", options: ["qÃ¬", "bÃ¡", "xiÃ©"], note: "ææŒˆï¼Œå››è²ã€‚" },
        { word: "è¦ª", pinyin: "qÃ¬ng", options: ["qÄ«n", "qÃ­ng", "xÄ«n"], note: "è¦ª(qÃ¬ng)å®¶ï¼Œè¦ª(qÄ«n)ç†±ã€‚" },
        { word: "æ›²", pinyin: "qÅ«", options: ["qÇ”", "quÄ“", "gÅ«"], note: "æ›²(qÅ«)æŠ˜ï¼Œæ­Œæ›²(qÇ”)ã€‚" },
        { word: "åˆ¸", pinyin: "quÃ n", options: ["juÃ n", "quÄn", "xuÃ n"], note: "è­‰åˆ¸ï¼Œå‹¿è®€ juÃ nã€‚" },
        { word: "å†‰", pinyin: "rÇn", options: ["zÃ i", "yÇn", "dÄn"], note: "å†‰å†‰å‡èµ·ï¼Œå‹¿è®€ zÃ iã€‚" },
        { word: "å¡", pinyin: "sÃ¨", options: ["sÄi", "sÃ i", "zÃ¨"], note: "å µå¡(sÃ¨)ï¼Œå¡(sÄi)è»Šï¼Œé‚Šå¡(sÃ i)ã€‚" },
        { word: "åˆ¹", pinyin: "chÃ ", options: ["shÄ", "shÃ ", "cÄ"], note: "å¤åˆ¹(chÃ )ï¼Œåˆ¹(shÄ)è»Šã€‚" },
        { word: "ç¦ª", pinyin: "shÃ n", options: ["chÃ¡n", "zhÃ n", "dÄn"], note: "ç¦ª(shÃ n)è®“ï¼Œç¦ª(chÃ¡n)å®—ã€‚" },
        { word: "æŠ˜", pinyin: "shÃ©", options: ["zhÃ©", "zhÄ“", "xiÃ©"], note: "æŠ˜(shÃ©)æœ¬ï¼ŒæŠ˜(zhÃ©)ç£¨ã€‚" },
        { word: "èªª", pinyin: "shuÃ¬", options: ["shuÅ", "yuÃ¨", "tuÅ"], note: "éŠèªª(shuÃ¬)ï¼Œèªª(shuÅ)è©±ã€‚" },
        { word: "å®", pinyin: "shÇ”n", options: ["yÇ”n", "shÃ¹n", "cÇ”n"], note: "å®å¸ï¼Œå‹¿è®€ yÇ”nã€‚" },
        { word: "é‚", pinyin: "suÃ­", options: ["suÃ¬", "shuÇ", "zhÃº"], note: "åŠèº«ä¸é‚(suÃ­)ï¼Œé‚(suÃ¬)é¡˜ã€‚" },
        { word: "è‹”", pinyin: "tÄi", options: ["tÃ¡i", "dÃ i", "tÃ i"], note: "èˆŒè‹”(tÄi)ï¼Œè‹”(tÃ¡i)è˜šã€‚" },
        { word: "å¸–", pinyin: "tiÃ¨", options: ["tiÄ›", "tiÄ“", "zhÄn"], note: "å­—å¸–(tiÃ¨)ï¼Œè«‹å¸–(tiÄ›)ï¼Œæœå¸–(tiÄ“)ã€‚" },
        { word: "ç“¦", pinyin: "wÃ ", options: ["wÇ", "wÄ", "gÃ i"], note: "å¼„ç“¦(wÃ )ä¹‹å–œï¼Œç“¦(wÇ)ç‰‡ã€‚" },
        { word: "ç·¯", pinyin: "wÄ›i", options: ["wÃ©i", "huÃ¬", "yÅng"], note: "ç¶“ç·¯ï¼Œå‹¿è®€ wÃ©iã€‚" },
        { word: "æ–‡", pinyin: "wÃ¨n", options: ["wÃ©n", "mÇn", "wÄ›n"], note: "æ–‡(wÃ¨n)éé£¾éï¼Œæ–‡(wÃ©n)å­—ã€‚" },
        { word: "å¡¢", pinyin: "wÃ¹", options: ["wÅ«", "yÃ¹", "Ço"], note: "èˆ¹å¡¢ï¼Œå››è²ã€‚" },
        { word: "å¥š", pinyin: "xÄ«", options: ["xÃ¬", "hÇi", "yÃ¬"], note: "å¥šè½ï¼Œä¸€è²ã€‚" },
        { word: "åš‡", pinyin: "hÃ¨", options: ["xiÃ ", "hÃ©", "kÃ¨"], note: "æåš‡(hÃ¨)ï¼Œåš‡(xiÃ )äººã€‚" },
        { word: "é®®", pinyin: "xiÇn", options: ["xiÄn", "xuÇn", "jiÃ n"], note: "é®®(xiÇn)ç‚ºäººçŸ¥ï¼Œæ–°(xiÄn)é®®ã€‚" },
        { word: "éœ°", pinyin: "xiÃ n", options: ["sÃ n", "xiÃ¡n", "zhÃ¨n"], note: "éœ°å½ˆï¼Œå‹¿è®€ sÃ nã€‚" },
        { word: "ç›¸", pinyin: "xiÃ ng", options: ["xiÄng", "jiÄng", "sÇng"], note: "ç›¸(xiÃ ng)ç‰‡ï¼Œç›¸(xiÄng)ä¿¡ã€‚" },
        { word: "çœ", pinyin: "xÇng", options: ["shÄ›ng", "shÄ“ng", "xÄ«ng"], note: "çœ(xÇng)æ‚Ÿï¼Œçœ(shÄ›ng)ä»½ã€‚" },
        { word: "ç•œ", pinyin: "xÃ¹", options: ["chÃ¹", "chuu", "zÄ«"], note: "ç•œ(xÃ¹)ç‰§ï¼Œç‰²ç•œ(chÃ¹)ã€‚" },
        { word: "æ—‹", pinyin: "xuÃ n", options: ["xuÃ¡n", "xuÄn", "zhuÃ n"], note: "æ—‹(xuÃ n)é¢¨ï¼Œæ—‹(xuÃ¡n)è½‰ã€‚" },
        { word: "è¡€", pinyin: "xuÃ¨", options: ["xiÄ›", "xuÄ›", "xiÃ¨"], note: "è¡€(xuÃ¨)æ¶²ï¼Œæµè¡€(xiÄ›)ã€‚" },
        { word: "ç†", pinyin: "xÅ«n", options: ["xÃ¹n", "yÄ«n", "dÅ«n"], note: "ç†é™¶ï¼Œä¸€è²ã€‚" },
        { word: "å•", pinyin: "yÄ", options: ["yÇ", "Ã ", "yÃ "], note: "å•(yÄ)å•å­¸èªï¼Œå•(yÇ)å·´ã€‚" },
        { word: "æ®·", pinyin: "yÄn", options: ["yÄ«n", "yÇn", "yÃ n"], note: "æ®·(yÄn)ç´…ï¼Œæ®·(yÄ«n)åˆ‡ã€‚" },
        { word: "å’½", pinyin: "yÃ¨", options: ["yÄn", "yÃ n", "yie"], note: "å—šå’½(yÃ¨)ï¼Œå’½(yÄn)å–‰ï¼Œåå’½(yÃ n)ã€‚" },
        { word: "é‘°", pinyin: "yÃ o", options: ["yuÃ¨", "yÃ ", "shuÃ²"], note: "é‘°åŒ™ï¼Œå‹¿è®€ yuÃ¨ã€‚" },
        { word: "è‘‰", pinyin: "xiÃ©", options: ["yÃ¨", "shi", "jia"], note: "è‘‰(xiÃ©)éŸ»ï¼Œæ¨¹è‘‰(yÃ¨)ã€‚" },
        { word: "è‰¾", pinyin: "yÃ¬", options: ["Ã i", "Äi", "li"], note: "è‡ªæ€¨è‡ªè‰¾(yÃ¬)ï¼Œè‰¾(Ã i)è‰ã€‚" },
        { word: "æ‡‰", pinyin: "yÃ¬ng", options: ["yÄ«ng", "yÃ­ng", "rÃ¨n"], note: "æ‡‰(yÃ¬ng)ç”¨ï¼Œæ‡‰(yÄ«ng)è©²ã€‚" },
        { word: "å‚­", pinyin: "yÅng", options: ["yÃ²ng", "rÇ’ng", "tÅng"], note: "å‚­é‡‘ï¼Œä¸€è²ã€‚" },
        { word: "ç†¨", pinyin: "yÃ¹", options: ["yÃ¹n", "wÃ¨i", "yÃºn"], note: "ç†¨(yÃ¹)å¸–ï¼Œç†¨(yÃ¹n)æ–—ã€‚" },
        { word: "èˆ‡", pinyin: "yÃ¹", options: ["yÇ”", "yÃº", "jÇ”"], note: "åƒèˆ‡(yÃ¹)ï¼Œèˆ‡(yÇ”)å…¶ã€‚" },
        { word: "ç±²", pinyin: "yÃ¹", options: ["xÅ«", "yÃº", "yÅ«"], note: "å‘¼ç±²ï¼Œå‹¿è®€ xÅ«ã€‚" },
        { word: "æšˆ", pinyin: "yÃ¹n", options: ["yÅ«n", "hÅ«n", "huÄ«"], note: "æšˆ(yÃ¹n)è»Šï¼Œæšˆ(yÅ«n)å€’ã€‚" },
        { word: "è¼‰", pinyin: "zÃ i", options: ["zÇi", "chÄi", "cÃ¡i"], note: "è¼‰(zÃ i)é‡ï¼Œè¨˜è¼‰(zÇi)ã€‚" },
        { word: "è‡Ÿ", pinyin: "zÃ ng", options: ["zÄng", "zhuÄng", "cÃ¡ng"], note: "å¿ƒè‡Ÿ(zÃ ng)ï¼Œéª¯é«’(zÄng)ã€‚" },
        { word: "è»‹", pinyin: "zhÃ¡", options: ["yÃ ", "gÃ¡", "zÄ"], note: "è»‹(zhÃ¡)é‹¼ï¼Œè»‹(yÃ )é¦¬è·¯ï¼Œå‚¾è»‹(yÃ )ã€‚" },
        { word: "ç²˜", pinyin: "zhÄn", options: ["niÃ¡n", "nÄn", "zi"], note: "ç²˜(zhÄn)è²¼ï¼Œç²˜(niÃ¡n)ç¨ ã€‚" },
        { word: "æ¼²", pinyin: "zhÇng", options: ["zhÃ ng", "zhÄng", "chÃ¡ng"], note: "æ¼²(zhÇng)æ½®ï¼Œé ­æ˜è…¦æ¼²(zhÃ ng)ã€‚" },
        { word: "è‘—", pinyin: "zhuÃ³", options: ["zhe", "zhÃ¡o", "zhÃ¹"], note: "è‘—(zhuÃ³)æ€¥/è‘—æ‰‹ï¼Œè‘—(zhÃ¹)ä½œã€‚" },
        { word: "æ®–", pinyin: "zhÃ­", options: ["chÃ¬", "shÃ­", "zÃ©"], note: "ç¹æ®–ï¼Œå‹¿è®€ 'ç›´' æˆ– 'å€¼' (å¸¸è®€äºŒè²)ã€‚" },
        { word: "è„‚", pinyin: "zhÄ«", options: ["zhÇ", "zÄ«", "zhÃ¬"], note: "è„‚è‚ªï¼Œä¸€è²ã€‚" },
        { word: "ç—‡", pinyin: "zhÄ“ng", options: ["zhÃ¨ng", "zÄ“ng", "tÃ²ng"], note: "ç—‡(zhÄ“ng)çµï¼Œç—…ç—‡(zhÃ¨ng)ã€‚" },
        { word: "åª", pinyin: "zhÄ«", options: ["zhÇ", "qÃ­", "zi"], note: "åª(zhÄ«)èº«/èˆ¹éš»ï¼Œåª(zhÇ)æœ‰ã€‚" },
        { word: "è»¸", pinyin: "zhÃ³u", options: ["zhÃ²u", "chÅu", "yÃ³u"], note: "å£“è»¸(zhÃ²u)ï¼Œè»Šè»¸(zhÃ³u)ã€‚" },
        { word: "å±¬", pinyin: "zhÇ”", options: ["shÇ”", "sÇ”", "zÇ”"], note: "å±¬(zhÇ”)æ„ï¼Œå±¬(shÇ”)æ–¼ã€‚" },
        { word: "è½‰", pinyin: "zhuÇi", options: ["zhuÇn", "zhuÃ n", "chuÃ¡n"], note: "è½‰(zhuÇi)æ–‡ï¼Œè½‰(zhuÇn)è®Šã€‚" },
        { word: "å¹¢", pinyin: "zhuÃ ng", options: ["chuÃ¡ng", "tÃ³ng", "zhung"], note: "ä¸€å¹¢(zhuÃ ng)æ¨“ï¼Œå½±å½±ç¶½ç¶½(chuÃ²)ã€‚" },
        { word: "é‘½", pinyin: "zuÄn", options: ["zuÃ n", "zÄn", "cuan"], note: "é‘½(zuÄn)çŸ³/é‘½ç ”ï¼Œé‘½(zuÃ n)é ­ã€‚" },
        { word: "æŸ", pinyin: "zuÃ²", options: ["zhÃ ", "zÃ©", "cuÃ²"], note: "æŸ(zuÃ²)è ¶ï¼ŒæŸ(zhÃ )æ°´(åœ°å)ã€‚" },
        { word: "ä½œ", pinyin: "zuÅ", options: ["zuÃ²", "zÃ©", "zuÃ³"], note: "ä½œ(zuÅ)æ­»/ä½œåŠï¼Œå·¥(zuÃ²)ä½œã€‚" }
    ];
    // ==========================================
    // 2. æ˜Ÿç©ºèƒŒæ™¯é‚è¼¯ (Canvas)
    // ==========================================
    const canvas = document.getElementById('star-canvas');
    const ctx = canvas.getContext('2d');
    let stars = [];

    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        initStars();
    }

    function initStars() {
        stars = [];
        const starCount = 100;
        for (let i = 0; i < starCount; i++) {
            stars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                radius: Math.random() * 1.5,
                alpha: Math.random(),
                speed: Math.random() * 0.05
            });
        }
    }

    function drawStars() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        stars.forEach(star => {
            ctx.beginPath();
            ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
            ctx.fillStyle = `rgba(255, 255, 255, ${star.alpha})`;
            ctx.fill();
            star.alpha += star.speed;
            if (star.alpha > 1 || star.alpha < 0.2) star.speed = -star.speed;
        });
        requestAnimationFrame(drawStars);
    }

    // ==========================================
    // 3. éŠæˆ²é‚è¼¯
    // ==========================================
    let currentQuestions = [];
    let currentIndex = 0;
    let score = 0;
    let canAnswer = true;
    let answeredHistory = []; // ç”¨æ–¼æœ€å¾Œå›é¡§

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function initGame() {
        currentIndex = 0;
        score = 0;
        answeredHistory = [];
        document.getElementById('game-screen').style.display = 'block';
        document.getElementById('result-screen').style.display = 'none';
        
        // éš¨æ©Ÿé¸ 20 é¡Œ
        const shuffled = shuffleArray([...fullQuestionBank]);
        currentQuestions = shuffled.slice(0, 20);
        
        renderQuestion();
    }

    function renderQuestion() {
        // é‡ç½®ç‹€æ…‹
        document.getElementById('next-btn').style.display = 'none';
        document.getElementById('feedback-text').innerHTML = '';
        canAnswer = true;

        if (currentIndex >= currentQuestions.length) {
            endGame();
            return;
        }

        const q = currentQuestions[currentIndex];
        const progressPercent = (currentIndex / 20) * 100;
        
        document.getElementById('progress').style.width = `${progressPercent}%`;
        document.getElementById('question-word').textContent = q.word;
        
        // æº–å‚™é¸é …
        let options = [q.pinyin, ...q.options];
        options = shuffleArray(options);

        const container = document.getElementById('options-container');
        container.innerHTML = '';

        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = opt;
            btn.onclick = () => handleAnswer(opt, q);
            container.appendChild(btn);
        });
    }

    function handleAnswer(selected, question) {
        if (!canAnswer) return;
        canAnswer = false; // é–å®š

        const buttons = document.querySelectorAll('.option-btn');
        let isCorrect = selected === question.pinyin;

        // æ¨£å¼è™•ç†
        buttons.forEach(btn => {
            if (btn.textContent === question.pinyin) {
                btn.classList.add('correct'); // æ­£ç¢ºç­”æ¡ˆé¡¯ç¶ 
            } else if (btn.textContent === selected && !isCorrect) {
                btn.classList.add('wrong'); // é¸éŒ¯é¡¯ç´…
            }
            btn.disabled = true; // ç¦ç”¨æ‰€æœ‰æŒ‰éˆ•
        });

        // é¡¯ç¤ºåé¥‹
        const feedbackDiv = document.getElementById('feedback-text');
        if (isCorrect) {
            score++;
            feedbackDiv.innerHTML = `<span style="color:var(--success-color); font-weight:bold;">âœ… ç­”å°äº†ï¼</span>`;
        } else {
            feedbackDiv.innerHTML = `<span style="color:var(--accent-color); font-weight:bold;">âŒ ç­”éŒ¯äº†ï¼æ‡‰è®€ï¼š${question.pinyin}</span>`;
        }
        
        // é¡¯ç¤ºå¹½é»˜æç¤º
        if (question.note) {
            feedbackDiv.innerHTML += `<span class="feedback-note">ğŸ’¡ ${question.note}</span>`;
        }

        // è¨˜éŒ„åˆ°æ­·å²
        answeredHistory.push({
            word: question.word,
            pinyin: question.pinyin,
            note: question.note,
            isCorrect: isCorrect
        });

        // â˜…â˜…â˜… é—œéµä¿®æ”¹ï¼šé¡¯ç¤ºã€Œä¸‹ä¸€é¡Œã€æŒ‰éˆ•ï¼Œè€Œä¸æ˜¯è‡ªå‹•è·³è½‰ â˜…â˜…â˜…
        document.getElementById('next-btn').style.display = 'block';
    }

    function nextQuestion() {
        currentIndex++;
        renderQuestion();
    }

    function endGame() {
        document.getElementById('game-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        
        const finalScore = score * 5;
        const scoreCircle = document.getElementById('final-score');
        const evalText = document.getElementById('eval-text');
        
        scoreCircle.textContent = finalScore;
        
        // è©•èªé‚è¼¯
        if (finalScore >= 90) {
            scoreCircle.style.borderColor = "#27ae60";
            scoreCircle.style.color = "#27ae60";
            evalText.innerHTML = "<strong>ä¸€ç´šä¹™ç­‰æ°´å¹³ï¼</strong><br>èªéŸ³é¢è²Œæ¥µä½³ï¼Œè«‹ä¿æŒã€‚";
        } else if (finalScore >= 80) {
            scoreCircle.style.borderColor = "#2980b9";
            scoreCircle.style.color = "#2980b9";
            evalText.innerHTML = "<strong>äºŒç´šç”²ç­‰æ°´å¹³ï¼</strong><br>å·²é”æ•™å¸«åŸºæº–ï¼Œæ³¨æ„å¾®ç´°é›œéŸ³ã€‚";
        } else if (finalScore >= 70) {
            scoreCircle.style.borderColor = "#f39c12";
            scoreCircle.style.color = "#f39c12";
            evalText.innerHTML = "<strong>äºŒç´šä¹™ç­‰æ°´å¹³ã€‚</strong><br>å—ç²µèªç¿’æ…£å½±éŸ¿ï¼Œéœ€åŠ å¼·ã€‚";
        } else {
            scoreCircle.style.borderColor = "#c0392b";
            scoreCircle.style.color = "#c0392b";
            evalText.innerHTML = "<strong>è«‹é‡è®€ã€Šå¯¦æ–½ç¶±è¦ã€‹ã€‚</strong><br>ä½ çš„ã€Œæ¸¯å¼æ‹¼éŸ³ã€å•é¡Œåš´é‡ã€‚";
        }

        // ç”Ÿæˆå›é¡§åˆ—è¡¨
        const reviewContainer = document.getElementById('review-container');
        let html = "";
        answeredHistory.forEach(item => {
            const color = item.isCorrect ? "#2ecc71" : "#e74c3c";
            html += `
                <div class="review-item">
                    <span style="color:${color}; font-weight:bold;">${item.word}</span> 
                    <span style="color:#f1c40f;">${item.pinyin}</span>
                    <div style="font-size:12px; color:#95a5a6; margin-top:4px;">${item.note}</div>
                </div>
            `;
        });
        reviewContainer.innerHTML = html;
    }

    // åˆå§‹åŒ–èƒŒæ™¯å’ŒéŠæˆ²
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    drawStars();
    initGame();

</script>

</body>
</html>
